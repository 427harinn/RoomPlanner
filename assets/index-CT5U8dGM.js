(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function wf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tc={exports:{}},Wi={},nc={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=Symbol.for("react.element"),Ef=Symbol.for("react.portal"),Sf=Symbol.for("react.fragment"),kf=Symbol.for("react.strict_mode"),_f=Symbol.for("react.profiler"),Nf=Symbol.for("react.provider"),Rf=Symbol.for("react.context"),If=Symbol.for("react.forward_ref"),jf=Symbol.for("react.suspense"),Tf=Symbol.for("react.memo"),Cf=Symbol.for("react.lazy"),ju=Symbol.iterator;function Mf(e){return e===null||typeof e!="object"?null:(e=ju&&e[ju]||e["@@iterator"],typeof e=="function"?e:null)}var rc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lc=Object.assign,ic={};function $r(e,t,n){this.props=e,this.context=t,this.refs=ic,this.updater=n||rc}$r.prototype.isReactComponent={};$r.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oc(){}oc.prototype=$r.prototype;function Ms(e,t,n){this.props=e,this.context=t,this.refs=ic,this.updater=n||rc}var Ps=Ms.prototype=new oc;Ps.constructor=Ms;lc(Ps,$r.prototype);Ps.isPureReactComponent=!0;var Tu=Array.isArray,sc=Object.prototype.hasOwnProperty,Ls={current:null},uc={key:!0,ref:!0,__self:!0,__source:!0};function ac(e,t,n){var r,l={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)sc.call(t,r)&&!uc.hasOwnProperty(r)&&(l[r]=t[r]);var s=arguments.length-2;if(s===1)l.children=n;else if(1<s){for(var c=Array(s),h=0;h<s;h++)c[h]=arguments[h+2];l.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)l[r]===void 0&&(l[r]=s[r]);return{$$typeof:Ml,type:e,key:i,ref:o,props:l,_owner:Ls.current}}function Pf(e,t){return{$$typeof:Ml,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ds(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ml}function Lf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cu=/\/+/g;function uo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lf(""+e.key):t.toString(36)}function si(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ml:case Ef:o=!0}}if(o)return o=e,l=l(o),e=r===""?"."+uo(o,0):r,Tu(l)?(n="",e!=null&&(n=e.replace(Cu,"$&/")+"/"),si(l,t,n,"",function(h){return h})):l!=null&&(Ds(l)&&(l=Pf(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Cu,"$&/")+"/")+e)),t.push(l)),1;if(o=0,r=r===""?".":r+":",Tu(e))for(var s=0;s<e.length;s++){i=e[s];var c=r+uo(i,s);o+=si(i,t,n,c,l)}else if(c=Mf(e),typeof c=="function")for(e=c.call(e),s=0;!(i=e.next()).done;)i=i.value,c=r+uo(i,s++),o+=si(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Al(e,t,n){if(e==null)return e;var r=[],l=0;return si(e,r,"","",function(i){return t.call(n,i,l++)}),r}function Df(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},ui={transition:null},zf={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:ui,ReactCurrentOwner:Ls};function cc(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Al,forEach:function(e,t,n){Al(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Al(e,function(){t++}),t},toArray:function(e){return Al(e,function(t){return t})||[]},only:function(e){if(!Ds(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=$r;ue.Fragment=Sf;ue.Profiler=_f;ue.PureComponent=Ms;ue.StrictMode=kf;ue.Suspense=jf;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zf;ue.act=cc;ue.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lc({},e.props),l=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ls.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)sc.call(t,c)&&!uc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){s=Array(c);for(var h=0;h<c;h++)s[h]=arguments[h+2];r.children=s}return{$$typeof:Ml,type:e.type,key:l,ref:i,props:r,_owner:o}};ue.createContext=function(e){return e={$$typeof:Rf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nf,_context:e},e.Consumer=e};ue.createElement=ac;ue.createFactory=function(e){var t=ac.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:If,render:e}};ue.isValidElement=Ds;ue.lazy=function(e){return{$$typeof:Cf,_payload:{_status:-1,_result:e},_init:Df}};ue.memo=function(e,t){return{$$typeof:Tf,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=ui.transition;ui.transition={};try{e()}finally{ui.transition=t}};ue.unstable_act=cc;ue.useCallback=function(e,t){return ht.current.useCallback(e,t)};ue.useContext=function(e){return ht.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ue.useEffect=function(e,t){return ht.current.useEffect(e,t)};ue.useId=function(){return ht.current.useId()};ue.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return ht.current.useMemo(e,t)};ue.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};ue.useRef=function(e){return ht.current.useRef(e)};ue.useState=function(e){return ht.current.useState(e)};ue.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return ht.current.useTransition()};ue.version="18.3.1";nc.exports=ue;var $=nc.exports;const Of=wf($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff=$,Uf=Symbol.for("react.element"),Af=Symbol.for("react.fragment"),$f=Object.prototype.hasOwnProperty,Xf=Ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bf={key:!0,ref:!0,__self:!0,__source:!0};function dc(e,t,n){var r,l={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)$f.call(t,r)&&!Bf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Uf,type:e,key:i,ref:o,props:l,_owner:Xf.current}}Wi.Fragment=Af;Wi.jsx=dc;Wi.jsxs=dc;tc.exports=Wi;var u=tc.exports,fc={exports:{}},Ct={},pc={exports:{}},hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,ee){var re=N.length;N.push(ee);e:for(;0<re;){var se=re-1>>>1,fe=N[se];if(0<l(fe,ee))N[se]=ee,N[re]=fe,re=se;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var ee=N[0],re=N.pop();if(re!==ee){N[0]=re;e:for(var se=0,fe=N.length,Kt=fe>>>1;se<Kt;){var Ae=2*(se+1)-1,Ee=N[Ae],ce=Ae+1,At=N[ce];if(0>l(Ee,re))ce<fe&&0>l(At,Ee)?(N[se]=At,N[ce]=re,se=ce):(N[se]=Ee,N[Ae]=re,se=Ae);else if(ce<fe&&0>l(At,re))N[se]=At,N[ce]=re,se=ce;else break e}}return ee}function l(N,ee){var re=N.sortIndex-ee.sortIndex;return re!==0?re:N.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],h=[],S=1,y=null,k=3,p=!1,w=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var ee=n(h);ee!==null;){if(ee.callback===null)r(h);else if(ee.startTime<=N)r(h),ee.sortIndex=ee.expirationTime,t(c,ee);else break;ee=n(h)}}function T(N){if(E=!1,v(N),!w)if(n(c)!==null)w=!0,Je(C);else{var ee=n(h);ee!==null&&Pt(T,ee.startTime-N)}}function C(N,ee){w=!1,E&&(E=!1,m(a),a=-1),p=!0;var re=k;try{for(v(ee),y=n(c);y!==null&&(!(y.expirationTime>ee)||N&&!K());){var se=y.callback;if(typeof se=="function"){y.callback=null,k=y.priorityLevel;var fe=se(y.expirationTime<=ee);ee=e.unstable_now(),typeof fe=="function"?y.callback=fe:y===n(c)&&r(c),v(ee)}else r(c);y=n(c)}if(y!==null)var Kt=!0;else{var Ae=n(h);Ae!==null&&Pt(T,Ae.startTime-ee),Kt=!1}return Kt}finally{y=null,k=re,p=!1}}var j=!1,g=null,a=-1,R=5,_=-1;function K(){return!(e.unstable_now()-_<R)}function ne(){if(g!==null){var N=e.unstable_now();_=N;var ee=!0;try{ee=g(!0,N)}finally{ee?Z():(j=!1,g=null)}}else j=!1}var Z;if(typeof d=="function")Z=function(){d(ne)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Fe=F.port2;F.port1.onmessage=ne,Z=function(){Fe.postMessage(null)}}else Z=function(){O(ne,0)};function Je(N){g=N,j||(j=!0,Z())}function Pt(N,ee){a=O(function(){N(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,Je(C))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(N){switch(k){case 1:case 2:case 3:var ee=3;break;default:ee=k}var re=k;k=ee;try{return N()}finally{k=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,ee){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var re=k;k=N;try{return ee()}finally{k=re}},e.unstable_scheduleCallback=function(N,ee,re){var se=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?se+re:se):re=se,N){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=re+fe,N={id:S++,callback:ee,priorityLevel:N,startTime:re,expirationTime:fe,sortIndex:-1},re>se?(N.sortIndex=re,t(h,N),n(c)===null&&N===n(h)&&(E?(m(a),a=-1):E=!0,Pt(T,re-se))):(N.sortIndex=fe,t(c,N),w||p||(w=!0,Je(C))),N},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(N){var ee=k;return function(){var re=k;k=ee;try{return N.apply(this,arguments)}finally{k=re}}}})(hc);pc.exports=hc;var Yf=pc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf=$,Tt=Yf;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mc=new Set,pl={};function rr(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(pl[e]=t,e=0;e<t.length;e++)mc.add(t[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uo=Object.prototype.hasOwnProperty,Wf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mu={},Pu={};function Vf(e){return Uo.call(Pu,e)?!0:Uo.call(Mu,e)?!1:Wf.test(e)?Pu[e]=!0:(Mu[e]=!0,!1)}function Qf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gf(e,t,n,r){if(t===null||typeof t>"u"||Qf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mt(e,t,n,r,l,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zs=/[\-:]([a-z])/g;function Os(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zs,Os);lt[t]=new mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zs,Os);lt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zs,Os);lt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new mt(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fs(e,t,n,r){var l=lt.hasOwnProperty(t)?lt[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gf(t,n,l,r)&&(n=null),r||l===null?Vf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=Hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$l=Symbol.for("react.element"),pr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),Us=Symbol.for("react.strict_mode"),Ao=Symbol.for("react.profiler"),yc=Symbol.for("react.provider"),gc=Symbol.for("react.context"),As=Symbol.for("react.forward_ref"),$o=Symbol.for("react.suspense"),Xo=Symbol.for("react.suspense_list"),$s=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),vc=Symbol.for("react.offscreen"),Lu=Symbol.iterator;function Hr(e){return e===null||typeof e!="object"?null:(e=Lu&&e[Lu]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,ao;function br(e){if(ao===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ao=t&&t[1]||""}return`
`+ao+e}var co=!1;function fo(e,t){if(!e||co)return"";co=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var l=h.stack.split(`
`),i=r.stack.split(`
`),o=l.length-1,s=i.length-1;1<=o&&0<=s&&l[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(l[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||l[o]!==i[s]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=s);break}}}finally{co=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?br(e):""}function Kf(e){switch(e.tag){case 5:return br(e.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 2:case 15:return e=fo(e.type,!1),e;case 11:return e=fo(e.type.render,!1),e;case 1:return e=fo(e.type,!0),e;default:return""}}function Bo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hr:return"Fragment";case pr:return"Portal";case Ao:return"Profiler";case Us:return"StrictMode";case $o:return"Suspense";case Xo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gc:return(e.displayName||"Context")+".Consumer";case yc:return(e._context.displayName||"Context")+".Provider";case As:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $s:return t=e.displayName||null,t!==null?t:Bo(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return Bo(e(t))}catch{}}return null}function Zf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bo(t);case 8:return t===Us?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jf(e){var t=xc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xl(e){e._valueTracker||(e._valueTracker=Jf(e))}function wc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yo(e,t){var n=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Du(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ec(e,t){t=t.checked,t!=null&&Fs(e,"checked",t,!1)}function Ho(e,t){Ec(e,t);var n=Dn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wo(e,t.type,Dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wo(e,t,n){(t!=="number"||wi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var el=Array.isArray;function Ir(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Vo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ou(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(el(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dn(n)}}function Sc(e,t){var n=Dn(t.value),r=Dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Fu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bl,_c=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bl=Bl||document.createElement("div"),Bl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qf=["Webkit","ms","Moz","O"];Object.keys(rl).forEach(function(e){qf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rl[t]=rl[e]})});function Nc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rl.hasOwnProperty(e)&&rl[e]?(""+t).trim():t+"px"}function Rc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Nc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var bf=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Go(e,t){if(t){if(bf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Ko(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=null;function Xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jo=null,jr=null,Tr=null;function Uu(e){if(e=Dl(e)){if(typeof Jo!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Zi(t),Jo(e.stateNode,e.type,t))}}function Ic(e){jr?Tr?Tr.push(e):Tr=[e]:jr=e}function jc(){if(jr){var e=jr,t=Tr;if(Tr=jr=null,Uu(e),t)for(e=0;e<t.length;e++)Uu(t[e])}}function Tc(e,t){return e(t)}function Cc(){}var po=!1;function Mc(e,t,n){if(po)return e(t,n);po=!0;try{return Tc(e,t,n)}finally{po=!1,(jr!==null||Tr!==null)&&(Cc(),jc())}}function ml(e,t){var n=e.stateNode;if(n===null)return null;var r=Zi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var qo=!1;if(fn)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){qo=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{qo=!1}function ep(e,t,n,r,l,i,o,s,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(S){this.onError(S)}}var ll=!1,Ei=null,Si=!1,bo=null,tp={onError:function(e){ll=!0,Ei=e}};function np(e,t,n,r,l,i,o,s,c){ll=!1,Ei=null,ep.apply(tp,arguments)}function rp(e,t,n,r,l,i,o,s,c){if(np.apply(this,arguments),ll){if(ll){var h=Ei;ll=!1,Ei=null}else throw Error(z(198));Si||(Si=!0,bo=h)}}function lr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Au(e){if(lr(e)!==e)throw Error(z(188))}function lp(e){var t=e.alternate;if(!t){if(t=lr(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return Au(l),e;if(i===r)return Au(l),t;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=l,r=i;else{for(var o=!1,s=l.child;s;){if(s===n){o=!0,n=l,r=i;break}if(s===r){o=!0,r=l,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=l;break}if(s===r){o=!0,r=i,n=l;break}s=s.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function Lc(e){return e=lp(e),e!==null?Dc(e):null}function Dc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dc(e);if(t!==null)return t;e=e.sibling}return null}var zc=Tt.unstable_scheduleCallback,$u=Tt.unstable_cancelCallback,ip=Tt.unstable_shouldYield,op=Tt.unstable_requestPaint,Ue=Tt.unstable_now,sp=Tt.unstable_getCurrentPriorityLevel,Bs=Tt.unstable_ImmediatePriority,Oc=Tt.unstable_UserBlockingPriority,ki=Tt.unstable_NormalPriority,up=Tt.unstable_LowPriority,Fc=Tt.unstable_IdlePriority,Vi=null,tn=null;function ap(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Vi,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:fp,cp=Math.log,dp=Math.LN2;function fp(e){return e>>>=0,e===0?32:31-(cp(e)/dp|0)|0}var Yl=64,Hl=4194304;function tl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _i(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~l;s!==0?r=tl(s):(i&=o,i!==0&&(r=tl(i)))}else o=n&~l,o!==0?r=tl(o):i!==0&&(r=tl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wt(t),l=1<<n,r|=e[n],t&=~l;return r}function pp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Wt(i),s=1<<o,c=l[o];c===-1?(!(s&n)||s&r)&&(l[o]=pp(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}}function es(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uc(){var e=Yl;return Yl<<=1,!(Yl&4194240)&&(Yl=64),e}function ho(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=n}function mp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Wt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function Ys(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var xe=0;function Ac(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $c,Hs,Xc,Bc,Yc,ts=!1,Wl=[],Rn=null,In=null,jn=null,yl=new Map,gl=new Map,Sn=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xu(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(t.pointerId)}}function Vr(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Dl(t),t!==null&&Hs(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function gp(e,t,n,r,l){switch(t){case"focusin":return Rn=Vr(Rn,e,t,n,r,l),!0;case"dragenter":return In=Vr(In,e,t,n,r,l),!0;case"mouseover":return jn=Vr(jn,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return yl.set(i,Vr(yl.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,gl.set(i,Vr(gl.get(i)||null,e,t,n,r,l)),!0}return!1}function Hc(e){var t=Qn(e.target);if(t!==null){var n=lr(t);if(n!==null){if(t=n.tag,t===13){if(t=Pc(n),t!==null){e.blockedOn=t,Yc(e.priority,function(){Xc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ai(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ns(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zo=r,n.target.dispatchEvent(r),Zo=null}else return t=Dl(n),t!==null&&Hs(t),e.blockedOn=n,!1;t.shift()}return!0}function Bu(e,t,n){ai(e)&&n.delete(t)}function vp(){ts=!1,Rn!==null&&ai(Rn)&&(Rn=null),In!==null&&ai(In)&&(In=null),jn!==null&&ai(jn)&&(jn=null),yl.forEach(Bu),gl.forEach(Bu)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,ts||(ts=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,vp)))}function vl(e){function t(l){return Qr(l,e)}if(0<Wl.length){Qr(Wl[0],e);for(var n=1;n<Wl.length;n++){var r=Wl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rn!==null&&Qr(Rn,e),In!==null&&Qr(In,e),jn!==null&&Qr(jn,e),yl.forEach(t),gl.forEach(t),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)Hc(n),n.blockedOn===null&&Sn.shift()}var Cr=yn.ReactCurrentBatchConfig,Ni=!0;function xp(e,t,n,r){var l=xe,i=Cr.transition;Cr.transition=null;try{xe=1,Ws(e,t,n,r)}finally{xe=l,Cr.transition=i}}function wp(e,t,n,r){var l=xe,i=Cr.transition;Cr.transition=null;try{xe=4,Ws(e,t,n,r)}finally{xe=l,Cr.transition=i}}function Ws(e,t,n,r){if(Ni){var l=ns(e,t,n,r);if(l===null)_o(e,t,r,Ri,n),Xu(e,r);else if(gp(l,e,t,n,r))r.stopPropagation();else if(Xu(e,r),t&4&&-1<yp.indexOf(e)){for(;l!==null;){var i=Dl(l);if(i!==null&&$c(i),i=ns(e,t,n,r),i===null&&_o(e,t,r,Ri,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else _o(e,t,r,null,n)}}var Ri=null;function ns(e,t,n,r){if(Ri=null,e=Xs(r),e=Qn(e),e!==null)if(t=lr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Pc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ri=e,null}function Wc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sp()){case Bs:return 1;case Oc:return 4;case ki:case up:return 16;case Fc:return 536870912;default:return 16}default:return 16}}var _n=null,Vs=null,ci=null;function Vc(){if(ci)return ci;var e,t=Vs,n=t.length,r,l="value"in _n?_n.value:_n.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===l[i-r];r++);return ci=l.slice(e,1<r?1-r:void 0)}function di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vl(){return!0}function Yu(){return!1}function Mt(e){function t(n,r,l,i,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vl:Yu,this.isPropagationStopped=Yu,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),t}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Mt(Xr),Ll=De({},Xr,{view:0,detail:0}),Ep=Mt(Ll),mo,yo,Gr,Qi=De({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gr&&(Gr&&e.type==="mousemove"?(mo=e.screenX-Gr.screenX,yo=e.screenY-Gr.screenY):yo=mo=0,Gr=e),mo)},movementY:function(e){return"movementY"in e?e.movementY:yo}}),Hu=Mt(Qi),Sp=De({},Qi,{dataTransfer:0}),kp=Mt(Sp),_p=De({},Ll,{relatedTarget:0}),go=Mt(_p),Np=De({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Rp=Mt(Np),Ip=De({},Xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jp=Mt(Ip),Tp=De({},Xr,{data:0}),Wu=Mt(Tp),Cp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pp[e])?!!t[e]:!1}function Gs(){return Lp}var Dp=De({},Ll,{key:function(e){if(e.key){var t=Cp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(e){return e.type==="keypress"?di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zp=Mt(Dp),Op=De({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vu=Mt(Op),Fp=De({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),Up=Mt(Fp),Ap=De({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$p=Mt(Ap),Xp=De({},Qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bp=Mt(Xp),Yp=[9,13,27,32],Ks=fn&&"CompositionEvent"in window,il=null;fn&&"documentMode"in document&&(il=document.documentMode);var Hp=fn&&"TextEvent"in window&&!il,Qc=fn&&(!Ks||il&&8<il&&11>=il),Qu=" ",Gu=!1;function Gc(e,t){switch(e){case"keyup":return Yp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mr=!1;function Wp(e,t){switch(e){case"compositionend":return Kc(t);case"keypress":return t.which!==32?null:(Gu=!0,Qu);case"textInput":return e=t.data,e===Qu&&Gu?null:e;default:return null}}function Vp(e,t){if(mr)return e==="compositionend"||!Ks&&Gc(e,t)?(e=Vc(),ci=Vs=_n=null,mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qc&&t.locale!=="ko"?null:t.data;default:return null}}var Qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ku(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qp[e.type]:t==="textarea"}function Zc(e,t,n,r){Ic(r),t=Ii(t,"onChange"),0<t.length&&(n=new Qs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ol=null,xl=null;function Gp(e){sd(e,0)}function Gi(e){var t=vr(e);if(wc(t))return e}function Kp(e,t){if(e==="change")return t}var Jc=!1;if(fn){var vo;if(fn){var xo="oninput"in document;if(!xo){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),xo=typeof Zu.oninput=="function"}vo=xo}else vo=!1;Jc=vo&&(!document.documentMode||9<document.documentMode)}function Ju(){ol&&(ol.detachEvent("onpropertychange",qc),xl=ol=null)}function qc(e){if(e.propertyName==="value"&&Gi(xl)){var t=[];Zc(t,xl,e,Xs(e)),Mc(Gp,t)}}function Zp(e,t,n){e==="focusin"?(Ju(),ol=t,xl=n,ol.attachEvent("onpropertychange",qc)):e==="focusout"&&Ju()}function Jp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gi(xl)}function qp(e,t){if(e==="click")return Gi(t)}function bp(e,t){if(e==="input"||e==="change")return Gi(t)}function eh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:eh;function wl(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Uo.call(t,l)||!Qt(e[l],t[l]))return!1}return!0}function qu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bu(e,t){var n=qu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qu(n)}}function bc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ed(){for(var e=window,t=wi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wi(e.document)}return t}function Zs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function th(e){var t=ed(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bc(n.ownerDocument.documentElement,n)){if(r!==null&&Zs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=bu(n,i);var o=bu(n,r);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nh=fn&&"documentMode"in document&&11>=document.documentMode,yr=null,rs=null,sl=null,ls=!1;function ea(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ls||yr==null||yr!==wi(r)||(r=yr,"selectionStart"in r&&Zs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sl&&wl(sl,r)||(sl=r,r=Ii(rs,"onSelect"),0<r.length&&(t=new Qs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function Ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},wo={},td={};fn&&(td=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Ki(e){if(wo[e])return wo[e];if(!gr[e])return e;var t=gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in td)return wo[e]=t[n];return e}var nd=Ki("animationend"),rd=Ki("animationiteration"),ld=Ki("animationstart"),id=Ki("transitionend"),od=new Map,ta="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(e,t){od.set(e,t),rr(t,[e])}for(var Eo=0;Eo<ta.length;Eo++){var So=ta[Eo],rh=So.toLowerCase(),lh=So[0].toUpperCase()+So.slice(1);On(rh,"on"+lh)}On(nd,"onAnimationEnd");On(rd,"onAnimationIteration");On(ld,"onAnimationStart");On("dblclick","onDoubleClick");On("focusin","onFocus");On("focusout","onBlur");On(id,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ih=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function na(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rp(r,t,void 0,e),e.currentTarget=null}function sd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,h=s.currentTarget;if(s=s.listener,c!==i&&l.isPropagationStopped())break e;na(l,s,h),i=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,h=s.currentTarget,s=s.listener,c!==i&&l.isPropagationStopped())break e;na(l,s,h),i=c}}}if(Si)throw e=bo,Si=!1,bo=null,e}function Re(e,t){var n=t[as];n===void 0&&(n=t[as]=new Set);var r=e+"__bubble";n.has(r)||(ud(t,e,2,!1),n.add(r))}function ko(e,t,n){var r=0;t&&(r|=4),ud(n,e,r,t)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function El(e){if(!e[Gl]){e[Gl]=!0,mc.forEach(function(n){n!=="selectionchange"&&(ih.has(n)||ko(n,!1,e),ko(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gl]||(t[Gl]=!0,ko("selectionchange",!1,t))}}function ud(e,t,n,r){switch(Wc(t)){case 1:var l=xp;break;case 4:l=wp;break;default:l=Ws}n=l.bind(null,t,n,e),l=void 0,!qo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function _o(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===l||s.nodeType===8&&s.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;s!==null;){if(o=Qn(s),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}s=s.parentNode}}r=r.return}Mc(function(){var h=i,S=Xs(n),y=[];e:{var k=od.get(e);if(k!==void 0){var p=Qs,w=e;switch(e){case"keypress":if(di(n)===0)break e;case"keydown":case"keyup":p=zp;break;case"focusin":w="focus",p=go;break;case"focusout":w="blur",p=go;break;case"beforeblur":case"afterblur":p=go;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Up;break;case nd:case rd:case ld:p=Rp;break;case id:p=$p;break;case"scroll":p=Ep;break;case"wheel":p=Bp;break;case"copy":case"cut":case"paste":p=jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Vu}var E=(t&4)!==0,O=!E&&e==="scroll",m=E?k!==null?k+"Capture":null:k;E=[];for(var d=h,v;d!==null;){v=d;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,m!==null&&(T=ml(d,m),T!=null&&E.push(Sl(d,T,v)))),O)break;d=d.return}0<E.length&&(k=new p(k,w,null,n,S),y.push({event:k,listeners:E}))}}if(!(t&7)){e:{if(k=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",k&&n!==Zo&&(w=n.relatedTarget||n.fromElement)&&(Qn(w)||w[pn]))break e;if((p||k)&&(k=S.window===S?S:(k=S.ownerDocument)?k.defaultView||k.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=h,w=w?Qn(w):null,w!==null&&(O=lr(w),w!==O||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=h),p!==w)){if(E=Hu,T="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(E=Vu,T="onPointerLeave",m="onPointerEnter",d="pointer"),O=p==null?k:vr(p),v=w==null?k:vr(w),k=new E(T,d+"leave",p,n,S),k.target=O,k.relatedTarget=v,T=null,Qn(S)===h&&(E=new E(m,d+"enter",w,n,S),E.target=v,E.relatedTarget=O,T=E),O=T,p&&w)t:{for(E=p,m=w,d=0,v=E;v;v=dr(v))d++;for(v=0,T=m;T;T=dr(T))v++;for(;0<d-v;)E=dr(E),d--;for(;0<v-d;)m=dr(m),v--;for(;d--;){if(E===m||m!==null&&E===m.alternate)break t;E=dr(E),m=dr(m)}E=null}else E=null;p!==null&&ra(y,k,p,E,!1),w!==null&&O!==null&&ra(y,O,w,E,!0)}}e:{if(k=h?vr(h):window,p=k.nodeName&&k.nodeName.toLowerCase(),p==="select"||p==="input"&&k.type==="file")var C=Kp;else if(Ku(k))if(Jc)C=bp;else{C=Jp;var j=Zp}else(p=k.nodeName)&&p.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(C=qp);if(C&&(C=C(e,h))){Zc(y,C,n,S);break e}j&&j(e,k,h),e==="focusout"&&(j=k._wrapperState)&&j.controlled&&k.type==="number"&&Wo(k,"number",k.value)}switch(j=h?vr(h):window,e){case"focusin":(Ku(j)||j.contentEditable==="true")&&(yr=j,rs=h,sl=null);break;case"focusout":sl=rs=yr=null;break;case"mousedown":ls=!0;break;case"contextmenu":case"mouseup":case"dragend":ls=!1,ea(y,n,S);break;case"selectionchange":if(nh)break;case"keydown":case"keyup":ea(y,n,S)}var g;if(Ks)e:{switch(e){case"compositionstart":var a="onCompositionStart";break e;case"compositionend":a="onCompositionEnd";break e;case"compositionupdate":a="onCompositionUpdate";break e}a=void 0}else mr?Gc(e,n)&&(a="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(a="onCompositionStart");a&&(Qc&&n.locale!=="ko"&&(mr||a!=="onCompositionStart"?a==="onCompositionEnd"&&mr&&(g=Vc()):(_n=S,Vs="value"in _n?_n.value:_n.textContent,mr=!0)),j=Ii(h,a),0<j.length&&(a=new Wu(a,e,null,n,S),y.push({event:a,listeners:j}),g?a.data=g:(g=Kc(n),g!==null&&(a.data=g)))),(g=Hp?Wp(e,n):Vp(e,n))&&(h=Ii(h,"onBeforeInput"),0<h.length&&(S=new Wu("onBeforeInput","beforeinput",null,n,S),y.push({event:S,listeners:h}),S.data=g))}sd(y,t)})}function Sl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ii(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=ml(e,n),i!=null&&r.unshift(Sl(e,i,l)),i=ml(e,t),i!=null&&r.push(Sl(e,i,l))),e=e.return}return r}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ra(e,t,n,r,l){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,h=s.stateNode;if(c!==null&&c===r)break;s.tag===5&&h!==null&&(s=h,l?(c=ml(n,i),c!=null&&o.unshift(Sl(n,c,s))):l||(c=ml(n,i),c!=null&&o.push(Sl(n,c,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var oh=/\r\n?/g,sh=/\u0000|\uFFFD/g;function la(e){return(typeof e=="string"?e:""+e).replace(oh,`
`).replace(sh,"")}function Kl(e,t,n){if(t=la(t),la(e)!==t&&n)throw Error(z(425))}function ji(){}var is=null,os=null;function ss(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var us=typeof setTimeout=="function"?setTimeout:void 0,uh=typeof clearTimeout=="function"?clearTimeout:void 0,ia=typeof Promise=="function"?Promise:void 0,ah=typeof queueMicrotask=="function"?queueMicrotask:typeof ia<"u"?function(e){return ia.resolve(null).then(e).catch(ch)}:us;function ch(e){setTimeout(function(){throw e})}function No(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),vl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);vl(t)}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),bt="__reactFiber$"+Br,kl="__reactProps$"+Br,pn="__reactContainer$"+Br,as="__reactEvents$"+Br,dh="__reactListeners$"+Br,fh="__reactHandles$"+Br;function Qn(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pn]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=oa(e);e!==null;){if(n=e[bt])return n;e=oa(e)}return t}e=n,n=e.parentNode}return null}function Dl(e){return e=e[bt]||e[pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Zi(e){return e[kl]||null}var cs=[],xr=-1;function Fn(e){return{current:e}}function Ie(e){0>xr||(e.current=cs[xr],cs[xr]=null,xr--)}function _e(e,t){xr++,cs[xr]=e.current,e.current=t}var zn={},at=Fn(zn),kt=Fn(!1),qn=zn;function Dr(e,t){var n=e.type.contextTypes;if(!n)return zn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function _t(e){return e=e.childContextTypes,e!=null}function Ti(){Ie(kt),Ie(at)}function sa(e,t,n){if(at.current!==zn)throw Error(z(168));_e(at,t),_e(kt,n)}function ad(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(z(108,Zf(e)||"Unknown",l));return De({},n,r)}function Ci(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zn,qn=at.current,_e(at,e),_e(kt,kt.current),!0}function ua(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=ad(e,t,qn),r.__reactInternalMemoizedMergedChildContext=e,Ie(kt),Ie(at),_e(at,e)):Ie(kt),_e(kt,n)}var un=null,Ji=!1,Ro=!1;function cd(e){un===null?un=[e]:un.push(e)}function ph(e){Ji=!0,cd(e)}function Un(){if(!Ro&&un!==null){Ro=!0;var e=0,t=xe;try{var n=un;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}un=null,Ji=!1}catch(l){throw un!==null&&(un=un.slice(e+1)),zc(Bs,Un),l}finally{xe=t,Ro=!1}}return null}var wr=[],Er=0,Mi=null,Pi=0,Lt=[],Dt=0,bn=null,an=1,cn="";function Hn(e,t){wr[Er++]=Pi,wr[Er++]=Mi,Mi=e,Pi=t}function dd(e,t,n){Lt[Dt++]=an,Lt[Dt++]=cn,Lt[Dt++]=bn,bn=e;var r=an;e=cn;var l=32-Wt(r)-1;r&=~(1<<l),n+=1;var i=32-Wt(t)+l;if(30<i){var o=l-l%5;i=(r&(1<<o)-1).toString(32),r>>=o,l-=o,an=1<<32-Wt(t)+l|n<<l|r,cn=i+e}else an=1<<i|n<<l|r,cn=e}function Js(e){e.return!==null&&(Hn(e,1),dd(e,1,0))}function qs(e){for(;e===Mi;)Mi=wr[--Er],wr[Er]=null,Pi=wr[--Er],wr[Er]=null;for(;e===bn;)bn=Lt[--Dt],Lt[Dt]=null,cn=Lt[--Dt],Lt[Dt]=null,an=Lt[--Dt],Lt[Dt]=null}var jt=null,It=null,je=!1,Ht=null;function fd(e,t){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function aa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,It=Tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bn!==null?{id:an,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jt=e,It=null,!0):!1;default:return!1}}function ds(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fs(e){if(je){var t=It;if(t){var n=t;if(!aa(e,t)){if(ds(e))throw Error(z(418));t=Tn(n.nextSibling);var r=jt;t&&aa(e,t)?fd(r,n):(e.flags=e.flags&-4097|2,je=!1,jt=e)}}else{if(ds(e))throw Error(z(418));e.flags=e.flags&-4097|2,je=!1,jt=e}}}function ca(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function Zl(e){if(e!==jt)return!1;if(!je)return ca(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ss(e.type,e.memoizedProps)),t&&(t=It)){if(ds(e))throw pd(),Error(z(418));for(;t;)fd(e,t),t=Tn(t.nextSibling)}if(ca(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){It=Tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}It=null}}else It=jt?Tn(e.stateNode.nextSibling):null;return!0}function pd(){for(var e=It;e;)e=Tn(e.nextSibling)}function zr(){It=jt=null,je=!1}function bs(e){Ht===null?Ht=[e]:Ht.push(e)}var hh=yn.ReactCurrentBatchConfig;function Kr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=l.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function Jl(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function da(e){var t=e._init;return t(e._payload)}function hd(e){function t(m,d){if(e){var v=m.deletions;v===null?(m.deletions=[d],m.flags|=16):v.push(d)}}function n(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function l(m,d){return m=Ln(m,d),m.index=0,m.sibling=null,m}function i(m,d,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<d?(m.flags|=2,d):v):(m.flags|=2,d)):(m.flags|=1048576,d)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,d,v,T){return d===null||d.tag!==6?(d=Lo(v,m.mode,T),d.return=m,d):(d=l(d,v),d.return=m,d)}function c(m,d,v,T){var C=v.type;return C===hr?S(m,d,v.props.children,T,v.key):d!==null&&(d.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wn&&da(C)===d.type)?(T=l(d,v.props),T.ref=Kr(m,d,v),T.return=m,T):(T=vi(v.type,v.key,v.props,null,m.mode,T),T.ref=Kr(m,d,v),T.return=m,T)}function h(m,d,v,T){return d===null||d.tag!==4||d.stateNode.containerInfo!==v.containerInfo||d.stateNode.implementation!==v.implementation?(d=Do(v,m.mode,T),d.return=m,d):(d=l(d,v.children||[]),d.return=m,d)}function S(m,d,v,T,C){return d===null||d.tag!==7?(d=Jn(v,m.mode,T,C),d.return=m,d):(d=l(d,v),d.return=m,d)}function y(m,d,v){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Lo(""+d,m.mode,v),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case $l:return v=vi(d.type,d.key,d.props,null,m.mode,v),v.ref=Kr(m,null,d),v.return=m,v;case pr:return d=Do(d,m.mode,v),d.return=m,d;case wn:var T=d._init;return y(m,T(d._payload),v)}if(el(d)||Hr(d))return d=Jn(d,m.mode,v,null),d.return=m,d;Jl(m,d)}return null}function k(m,d,v,T){var C=d!==null?d.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:s(m,d,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $l:return v.key===C?c(m,d,v,T):null;case pr:return v.key===C?h(m,d,v,T):null;case wn:return C=v._init,k(m,d,C(v._payload),T)}if(el(v)||Hr(v))return C!==null?null:S(m,d,v,T,null);Jl(m,v)}return null}function p(m,d,v,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(v)||null,s(d,m,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case $l:return m=m.get(T.key===null?v:T.key)||null,c(d,m,T,C);case pr:return m=m.get(T.key===null?v:T.key)||null,h(d,m,T,C);case wn:var j=T._init;return p(m,d,v,j(T._payload),C)}if(el(T)||Hr(T))return m=m.get(v)||null,S(d,m,T,C,null);Jl(d,T)}return null}function w(m,d,v,T){for(var C=null,j=null,g=d,a=d=0,R=null;g!==null&&a<v.length;a++){g.index>a?(R=g,g=null):R=g.sibling;var _=k(m,g,v[a],T);if(_===null){g===null&&(g=R);break}e&&g&&_.alternate===null&&t(m,g),d=i(_,d,a),j===null?C=_:j.sibling=_,j=_,g=R}if(a===v.length)return n(m,g),je&&Hn(m,a),C;if(g===null){for(;a<v.length;a++)g=y(m,v[a],T),g!==null&&(d=i(g,d,a),j===null?C=g:j.sibling=g,j=g);return je&&Hn(m,a),C}for(g=r(m,g);a<v.length;a++)R=p(g,m,a,v[a],T),R!==null&&(e&&R.alternate!==null&&g.delete(R.key===null?a:R.key),d=i(R,d,a),j===null?C=R:j.sibling=R,j=R);return e&&g.forEach(function(K){return t(m,K)}),je&&Hn(m,a),C}function E(m,d,v,T){var C=Hr(v);if(typeof C!="function")throw Error(z(150));if(v=C.call(v),v==null)throw Error(z(151));for(var j=C=null,g=d,a=d=0,R=null,_=v.next();g!==null&&!_.done;a++,_=v.next()){g.index>a?(R=g,g=null):R=g.sibling;var K=k(m,g,_.value,T);if(K===null){g===null&&(g=R);break}e&&g&&K.alternate===null&&t(m,g),d=i(K,d,a),j===null?C=K:j.sibling=K,j=K,g=R}if(_.done)return n(m,g),je&&Hn(m,a),C;if(g===null){for(;!_.done;a++,_=v.next())_=y(m,_.value,T),_!==null&&(d=i(_,d,a),j===null?C=_:j.sibling=_,j=_);return je&&Hn(m,a),C}for(g=r(m,g);!_.done;a++,_=v.next())_=p(g,m,a,_.value,T),_!==null&&(e&&_.alternate!==null&&g.delete(_.key===null?a:_.key),d=i(_,d,a),j===null?C=_:j.sibling=_,j=_);return e&&g.forEach(function(ne){return t(m,ne)}),je&&Hn(m,a),C}function O(m,d,v,T){if(typeof v=="object"&&v!==null&&v.type===hr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case $l:e:{for(var C=v.key,j=d;j!==null;){if(j.key===C){if(C=v.type,C===hr){if(j.tag===7){n(m,j.sibling),d=l(j,v.props.children),d.return=m,m=d;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wn&&da(C)===j.type){n(m,j.sibling),d=l(j,v.props),d.ref=Kr(m,j,v),d.return=m,m=d;break e}n(m,j);break}else t(m,j);j=j.sibling}v.type===hr?(d=Jn(v.props.children,m.mode,T,v.key),d.return=m,m=d):(T=vi(v.type,v.key,v.props,null,m.mode,T),T.ref=Kr(m,d,v),T.return=m,m=T)}return o(m);case pr:e:{for(j=v.key;d!==null;){if(d.key===j)if(d.tag===4&&d.stateNode.containerInfo===v.containerInfo&&d.stateNode.implementation===v.implementation){n(m,d.sibling),d=l(d,v.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else t(m,d);d=d.sibling}d=Do(v,m.mode,T),d.return=m,m=d}return o(m);case wn:return j=v._init,O(m,d,j(v._payload),T)}if(el(v))return w(m,d,v,T);if(Hr(v))return E(m,d,v,T);Jl(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,d!==null&&d.tag===6?(n(m,d.sibling),d=l(d,v),d.return=m,m=d):(n(m,d),d=Lo(v,m.mode,T),d.return=m,m=d),o(m)):n(m,d)}return O}var Or=hd(!0),md=hd(!1),Li=Fn(null),Di=null,Sr=null,eu=null;function tu(){eu=Sr=Di=null}function nu(e){var t=Li.current;Ie(Li),e._currentValue=t}function ps(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mr(e,t){Di=e,eu=Sr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(St=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(eu!==e)if(e={context:e,memoizedValue:t,next:null},Sr===null){if(Di===null)throw Error(z(308));Sr=e,Di.dependencies={lanes:0,firstContext:e}}else Sr=Sr.next=e;return t}var Gn=null;function ru(e){Gn===null?Gn=[e]:Gn.push(e)}function yd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ru(t)):(n.next=l.next,l.next=n),t.interleaved=n,hn(e,r)}function hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var En=!1;function lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,hn(e,n)}return l=r.interleaved,l===null?(t.next=t,ru(r)):(t.next=l.next,l.next=t),r.interleaved=t,hn(e,n)}function fi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ys(e,n)}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r){var l=e.updateQueue;En=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,s=l.shared.pending;if(s!==null){l.shared.pending=null;var c=s,h=c.next;c.next=null,o===null?i=h:o.next=h,o=c;var S=e.alternate;S!==null&&(S=S.updateQueue,s=S.lastBaseUpdate,s!==o&&(s===null?S.firstBaseUpdate=h:s.next=h,S.lastBaseUpdate=c))}if(i!==null){var y=l.baseState;o=0,S=h=c=null,s=i;do{var k=s.lane,p=s.eventTime;if((r&k)===k){S!==null&&(S=S.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var w=e,E=s;switch(k=t,p=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){y=w.call(p,y,k);break e}y=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,k=typeof w=="function"?w.call(p,y,k):w,k==null)break e;y=De({},y,k);break e;case 2:En=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,k=l.effects,k===null?l.effects=[s]:k.push(s))}else p={eventTime:p,lane:k,tag:s.tag,payload:s.payload,callback:s.callback,next:null},S===null?(h=S=p,c=y):S=S.next=p,o|=k;if(s=s.next,s===null){if(s=l.shared.pending,s===null)break;k=s,s=k.next,k.next=null,l.lastBaseUpdate=k,l.shared.pending=null}}while(!0);if(S===null&&(c=y),l.baseState=c,l.firstBaseUpdate=h,l.lastBaseUpdate=S,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);tr|=o,e.lanes=o,e.memoizedState=y}}function pa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(z(191,l));l.call(r)}}}var zl={},nn=Fn(zl),_l=Fn(zl),Nl=Fn(zl);function Kn(e){if(e===zl)throw Error(z(174));return e}function iu(e,t){switch(_e(Nl,t),_e(_l,e),_e(nn,zl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qo(t,e)}Ie(nn),_e(nn,t)}function Fr(){Ie(nn),Ie(_l),Ie(Nl)}function vd(e){Kn(Nl.current);var t=Kn(nn.current),n=Qo(t,e.type);t!==n&&(_e(_l,e),_e(nn,n))}function ou(e){_l.current===e&&(Ie(nn),Ie(_l))}var Pe=Fn(0);function Oi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Io=[];function su(){for(var e=0;e<Io.length;e++)Io[e]._workInProgressVersionPrimary=null;Io.length=0}var pi=yn.ReactCurrentDispatcher,jo=yn.ReactCurrentBatchConfig,er=0,Le=null,Ke=null,be=null,Fi=!1,ul=!1,Rl=0,mh=0;function ot(){throw Error(z(321))}function uu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function au(e,t,n,r,l,i){if(er=i,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=e===null||e.memoizedState===null?xh:wh,e=n(r,l),ul){i=0;do{if(ul=!1,Rl=0,25<=i)throw Error(z(301));i+=1,be=Ke=null,t.updateQueue=null,pi.current=Eh,e=n(r,l)}while(ul)}if(pi.current=Ui,t=Ke!==null&&Ke.next!==null,er=0,be=Ke=Le=null,Fi=!1,t)throw Error(z(300));return e}function cu(){var e=Rl!==0;return Rl=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Le.memoizedState=be=e:be=be.next=e,be}function Ut(){if(Ke===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=be===null?Le.memoizedState:be.next;if(t!==null)be=t,Ke=e;else{if(e===null)throw Error(z(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},be===null?Le.memoizedState=be=e:be=be.next=e}return be}function Il(e,t){return typeof t=="function"?t(e):t}function To(e){var t=Ut(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=Ke,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var s=o=null,c=null,h=i;do{var S=h.lane;if((er&S)===S)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var y={lane:S,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(s=c=y,o=r):c=c.next=y,Le.lanes|=S,tr|=S}h=h.next}while(h!==null&&h!==i);c===null?o=r:c.next=s,Qt(r,t.memoizedState)||(St=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,Le.lanes|=i,tr|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Co(e){var t=Ut(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);Qt(i,t.memoizedState)||(St=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xd(){}function wd(e,t){var n=Le,r=Ut(),l=t(),i=!Qt(r.memoizedState,l);if(i&&(r.memoizedState=l,St=!0),r=r.queue,du(kd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,jl(9,Sd.bind(null,n,r,l,t),void 0,null),et===null)throw Error(z(349));er&30||Ed(n,t,l)}return l}function Ed(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sd(e,t,n,r){t.value=n,t.getSnapshot=r,_d(t)&&Nd(e)}function kd(e,t,n){return n(function(){_d(t)&&Nd(e)})}function _d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function Nd(e){var t=hn(e,1);t!==null&&Vt(t,e,1,-1)}function ha(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:e},t.queue=e,e=e.dispatch=vh.bind(null,Le,e),[t.memoizedState,e]}function jl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Rd(){return Ut().memoizedState}function hi(e,t,n,r){var l=qt();Le.flags|=e,l.memoizedState=jl(1|t,n,void 0,r===void 0?null:r)}function qi(e,t,n,r){var l=Ut();r=r===void 0?null:r;var i=void 0;if(Ke!==null){var o=Ke.memoizedState;if(i=o.destroy,r!==null&&uu(r,o.deps)){l.memoizedState=jl(t,n,i,r);return}}Le.flags|=e,l.memoizedState=jl(1|t,n,i,r)}function ma(e,t){return hi(8390656,8,e,t)}function du(e,t){return qi(2048,8,e,t)}function Id(e,t){return qi(4,2,e,t)}function jd(e,t){return qi(4,4,e,t)}function Td(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cd(e,t,n){return n=n!=null?n.concat([e]):null,qi(4,4,Td.bind(null,t,e),n)}function fu(){}function Md(e,t){var n=Ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&uu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pd(e,t){var n=Ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&uu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ld(e,t,n){return er&21?(Qt(n,t)||(n=Uc(),Le.lanes|=n,tr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=n)}function yh(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=jo.transition;jo.transition={};try{e(!1),t()}finally{xe=n,jo.transition=r}}function Dd(){return Ut().memoizedState}function gh(e,t,n){var r=Pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zd(e))Od(t,n);else if(n=yd(e,t,n,r),n!==null){var l=pt();Vt(n,e,r,l),Fd(n,t,r)}}function vh(e,t,n){var r=Pn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zd(e))Od(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(l.hasEagerState=!0,l.eagerState=s,Qt(s,o)){var c=t.interleaved;c===null?(l.next=l,ru(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=yd(e,t,l,r),n!==null&&(l=pt(),Vt(n,e,r,l),Fd(n,t,r))}}function zd(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Od(e,t){ul=Fi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ys(e,n)}}var Ui={readContext:Ft,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},xh={readContext:Ft,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:ma,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hi(4194308,4,Td.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hi(4194308,4,e,t)},useInsertionEffect:function(e,t){return hi(4,2,e,t)},useMemo:function(e,t){var n=qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gh.bind(null,Le,e),[r.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:ha,useDebugValue:fu,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=ha(!1),t=e[0];return e=yh.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Le,l=qt();if(je){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),et===null)throw Error(z(349));er&30||Ed(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,ma(kd.bind(null,r,i,e),[e]),r.flags|=2048,jl(9,Sd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=qt(),t=et.identifierPrefix;if(je){var n=cn,r=an;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wh={readContext:Ft,useCallback:Md,useContext:Ft,useEffect:du,useImperativeHandle:Cd,useInsertionEffect:Id,useLayoutEffect:jd,useMemo:Pd,useReducer:To,useRef:Rd,useState:function(){return To(Il)},useDebugValue:fu,useDeferredValue:function(e){var t=Ut();return Ld(t,Ke.memoizedState,e)},useTransition:function(){var e=To(Il)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:wd,useId:Dd,unstable_isNewReconciler:!1},Eh={readContext:Ft,useCallback:Md,useContext:Ft,useEffect:du,useImperativeHandle:Cd,useInsertionEffect:Id,useLayoutEffect:jd,useMemo:Pd,useReducer:Co,useRef:Rd,useState:function(){return Co(Il)},useDebugValue:fu,useDeferredValue:function(e){var t=Ut();return Ke===null?t.memoizedState=e:Ld(t,Ke.memoizedState,e)},useTransition:function(){var e=Co(Il)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:wd,useId:Dd,unstable_isNewReconciler:!1};function Bt(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bi={isMounted:function(e){return(e=e._reactInternals)?lr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pt(),l=Pn(e),i=dn(r,l);i.payload=t,n!=null&&(i.callback=n),t=Cn(e,i,l),t!==null&&(Vt(t,e,l,r),fi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pt(),l=Pn(e),i=dn(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Cn(e,i,l),t!==null&&(Vt(t,e,l,r),fi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pt(),r=Pn(e),l=dn(n,r);l.tag=2,t!=null&&(l.callback=t),t=Cn(e,l,r),t!==null&&(Vt(t,e,r,n),fi(t,e,r))}};function ya(e,t,n,r,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!wl(n,r)||!wl(l,i):!0}function Ud(e,t,n){var r=!1,l=zn,i=t.contextType;return typeof i=="object"&&i!==null?i=Ft(i):(l=_t(t)?qn:at.current,r=t.contextTypes,i=(r=r!=null)?Dr(e,l):zn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function ga(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bi.enqueueReplaceState(t,t.state,null)}function ms(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},lu(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=Ft(i):(i=_t(t)?qn:at.current,l.context=Dr(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(hs(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&bi.enqueueReplaceState(l,l.state,null),zi(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Ur(e,t){try{var n="",r=t;do n+=Kf(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Mo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ys(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sh=typeof WeakMap=="function"?WeakMap:Map;function Ad(e,t,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$i||($i=!0,Rs=r),ys(e,t)},n}function $d(e,t,n){n=dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){ys(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ys(e,t),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function va(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sh;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Oh.bind(null,e,t,n),t.then(e,e))}function xa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wa(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dn(-1,1),t.tag=2,Cn(n,t,1))),n.lanes|=1),e)}var kh=yn.ReactCurrentOwner,St=!1;function ft(e,t,n,r){t.child=e===null?md(t,null,n,r):Or(t,e.child,n,r)}function Ea(e,t,n,r,l){n=n.render;var i=t.ref;return Mr(t,l),r=au(e,t,n,r,i,l),n=cu(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,mn(e,t,l)):(je&&n&&Js(t),t.flags|=1,ft(e,t,r,l),t.child)}function Sa(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!wu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Xd(e,t,i,r,l)):(e=vi(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:wl,n(o,r)&&e.ref===t.ref)return mn(e,t,l)}return t.flags|=1,e=Ln(i,r),e.ref=t.ref,e.return=t,t.child=e}function Xd(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(wl(i,r)&&e.ref===t.ref)if(St=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(St=!0);else return t.lanes=e.lanes,mn(e,t,l)}return gs(e,t,n,r,l)}function Bd(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(_r,Rt),Rt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(_r,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,_e(_r,Rt),Rt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,_e(_r,Rt),Rt|=r;return ft(e,t,l,n),t.child}function Yd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gs(e,t,n,r,l){var i=_t(n)?qn:at.current;return i=Dr(t,i),Mr(t,l),n=au(e,t,n,r,i,l),r=cu(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,mn(e,t,l)):(je&&r&&Js(t),t.flags|=1,ft(e,t,n,l),t.child)}function ka(e,t,n,r,l){if(_t(n)){var i=!0;Ci(t)}else i=!1;if(Mr(t,l),t.stateNode===null)mi(e,t),Ud(t,n,r),ms(t,n,r,l),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ft(h):(h=_t(n)?qn:at.current,h=Dr(t,h));var S=n.getDerivedStateFromProps,y=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function";y||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||c!==h)&&ga(t,o,r,h),En=!1;var k=t.memoizedState;o.state=k,zi(t,r,o,l),c=t.memoizedState,s!==r||k!==c||kt.current||En?(typeof S=="function"&&(hs(t,n,S,r),c=t.memoizedState),(s=En||ya(t,n,s,r,k,c,h))?(y||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=h,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,gd(e,t),s=t.memoizedProps,h=t.type===t.elementType?s:Bt(t.type,s),o.props=h,y=t.pendingProps,k=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ft(c):(c=_t(n)?qn:at.current,c=Dr(t,c));var p=n.getDerivedStateFromProps;(S=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==y||k!==c)&&ga(t,o,r,c),En=!1,k=t.memoizedState,o.state=k,zi(t,r,o,l);var w=t.memoizedState;s!==y||k!==w||kt.current||En?(typeof p=="function"&&(hs(t,n,p,r),w=t.memoizedState),(h=En||ya(t,n,h,r,k,w,c)||!1)?(S||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),r=!1)}return vs(e,t,n,r,i,l)}function vs(e,t,n,r,l,i){Yd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return l&&ua(t,n,!1),mn(e,t,i);r=t.stateNode,kh.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Or(t,e.child,null,i),t.child=Or(t,null,s,i)):ft(e,t,s,i),t.memoizedState=r.state,l&&ua(t,n,!0),t.child}function Hd(e){var t=e.stateNode;t.pendingContext?sa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sa(e,t.context,!1),iu(e,t.containerInfo)}function _a(e,t,n,r,l){return zr(),bs(l),t.flags|=256,ft(e,t,n,r),t.child}var xs={dehydrated:null,treeContext:null,retryLane:0};function ws(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wd(e,t,n){var r=t.pendingProps,l=Pe.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(l&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),_e(Pe,l&1),e===null)return fs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=no(o,r,0,null),e=Jn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ws(n),t.memoizedState=xs,e):pu(t,o));if(l=e.memoizedState,l!==null&&(s=l.dehydrated,s!==null))return _h(e,t,o,r,s,l,n);if(i){i=r.fallback,o=t.mode,l=e.child,s=l.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ln(l,c),r.subtreeFlags=l.subtreeFlags&14680064),s!==null?i=Ln(s,i):(i=Jn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ws(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=xs,r}return i=e.child,e=i.sibling,r=Ln(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function pu(e,t){return t=no({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ql(e,t,n,r){return r!==null&&bs(r),Or(t,e.child,null,n),e=pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _h(e,t,n,r,l,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Mo(Error(z(422))),ql(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=no({mode:"visible",children:r.children},l,0,null),i=Jn(i,l,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Or(t,e.child,null,o),t.child.memoizedState=ws(o),t.memoizedState=xs,i);if(!(t.mode&1))return ql(e,t,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(z(419)),r=Mo(i,r,void 0),ql(e,t,o,r)}if(s=(o&e.childLanes)!==0,St||s){if(r=et,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|o)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,hn(e,l),Vt(r,e,l,-1))}return xu(),r=Mo(Error(z(421))),ql(e,t,o,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Fh.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,It=Tn(l.nextSibling),jt=t,je=!0,Ht=null,e!==null&&(Lt[Dt++]=an,Lt[Dt++]=cn,Lt[Dt++]=bn,an=e.id,cn=e.overflow,bn=t),t=pu(t,r.children),t.flags|=4096,t)}function Na(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ps(e.return,t,n)}function Po(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function Vd(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(ft(e,t,r.children,n),r=Pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Na(e,n,t);else if(e.tag===19)Na(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(Pe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Oi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Po(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Oi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Po(t,!0,n,null,i);break;case"together":Po(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=Ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nh(e,t,n){switch(t.tag){case 3:Hd(t),zr();break;case 5:vd(t);break;case 1:_t(t.type)&&Ci(t);break;case 4:iu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;_e(Li,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_e(Pe,Pe.current&1),t.flags|=128,null):n&t.child.childLanes?Wd(e,t,n):(_e(Pe,Pe.current&1),e=mn(e,t,n),e!==null?e.sibling:null);_e(Pe,Pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Vd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),_e(Pe,Pe.current),r)break;return null;case 22:case 23:return t.lanes=0,Bd(e,t,n)}return mn(e,t,n)}var Qd,Es,Gd,Kd;Qd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Es=function(){};Gd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Kn(nn.current);var i=null;switch(n){case"input":l=Yo(e,l),r=Yo(e,r),i=[];break;case"select":l=De({},l,{value:void 0}),r=De({},r,{value:void 0}),i=[];break;case"textarea":l=Vo(e,l),r=Vo(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ji)}Go(n,r);var o;n=null;for(h in l)if(!r.hasOwnProperty(h)&&l.hasOwnProperty(h)&&l[h]!=null)if(h==="style"){var s=l[h];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(pl.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var c=r[h];if(s=l!=null?l[h]:void 0,r.hasOwnProperty(h)&&c!==s&&(c!=null||s!=null))if(h==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(pl.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Re("scroll",e),i||s===c||(i=[])):(i=i||[]).push(h,c))}n&&(i=i||[]).push("style",n);var h=i;(t.updateQueue=h)&&(t.flags|=4)}};Kd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zr(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Rh(e,t,n){var r=t.pendingProps;switch(qs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return _t(t.type)&&Ti(),st(t),null;case 3:return r=t.stateNode,Fr(),Ie(kt),Ie(at),su(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Zl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ht!==null&&(Ts(Ht),Ht=null))),Es(e,t),st(t),null;case 5:ou(t);var l=Kn(Nl.current);if(n=t.type,e!==null&&t.stateNode!=null)Gd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return st(t),null}if(e=Kn(nn.current),Zl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[bt]=t,r[kl]=i,e=(t.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(l=0;l<nl.length;l++)Re(nl[l],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Du(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":Ou(r,i),Re("invalid",r)}Go(n,i),l=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Kl(r.textContent,s,e),l=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Kl(r.textContent,s,e),l=["children",""+s]):pl.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":Xl(r),zu(r,i,!0);break;case"textarea":Xl(r),Fu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ji)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[bt]=t,e[kl]=r,Qd(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ko(n,r),n){case"dialog":Re("cancel",e),Re("close",e),l=r;break;case"iframe":case"object":case"embed":Re("load",e),l=r;break;case"video":case"audio":for(l=0;l<nl.length;l++)Re(nl[l],e);l=r;break;case"source":Re("error",e),l=r;break;case"img":case"image":case"link":Re("error",e),Re("load",e),l=r;break;case"details":Re("toggle",e),l=r;break;case"input":Du(e,r),l=Yo(e,r),Re("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=De({},r,{value:void 0}),Re("invalid",e);break;case"textarea":Ou(e,r),l=Vo(e,r),Re("invalid",e);break;default:l=r}Go(n,l),s=l;for(i in s)if(s.hasOwnProperty(i)){var c=s[i];i==="style"?Rc(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_c(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&hl(e,c):typeof c=="number"&&hl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Re("scroll",e):c!=null&&Fs(e,i,c,o))}switch(n){case"input":Xl(e),zu(e,r,!1);break;case"textarea":Xl(e),Fu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ir(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ir(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ji)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)Kd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=Kn(Nl.current),Kn(nn.current),Zl(t)){if(r=t.stateNode,n=t.memoizedProps,r[bt]=t,(i=r.nodeValue!==n)&&(e=jt,e!==null))switch(e.tag){case 3:Kl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bt]=t,t.stateNode=r}return st(t),null;case 13:if(Ie(Pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&It!==null&&t.mode&1&&!(t.flags&128))pd(),zr(),t.flags|=98560,i=!1;else if(i=Zl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[bt]=t}else zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),i=!1}else Ht!==null&&(Ts(Ht),Ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?Ze===0&&(Ze=3):xu())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return Fr(),Es(e,t),e===null&&El(t.stateNode.containerInfo),st(t),null;case 10:return nu(t.type._context),st(t),null;case 17:return _t(t.type)&&Ti(),st(t),null;case 19:if(Ie(Pe),i=t.memoizedState,i===null)return st(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Zr(i,!1);else{if(Ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Oi(e),o!==null){for(t.flags|=128,Zr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Pe,Pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ue()>Ar&&(t.flags|=128,r=!0,Zr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Oi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!je)return st(t),null}else 2*Ue()-i.renderingStartTime>Ar&&n!==1073741824&&(t.flags|=128,r=!0,Zr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ue(),t.sibling=null,n=Pe.current,_e(Pe,r?n&1|2:n&1),t):(st(t),null);case 22:case 23:return vu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rt&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function Ih(e,t){switch(qs(t),t.tag){case 1:return _t(t.type)&&Ti(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fr(),Ie(kt),Ie(at),su(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ou(t),null;case 13:if(Ie(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Pe),null;case 4:return Fr(),null;case 10:return nu(t.type._context),null;case 22:case 23:return vu(),null;case 24:return null;default:return null}}var bl=!1,ut=!1,jh=typeof WeakSet=="function"?WeakSet:Set,V=null;function kr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function Ss(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var Ra=!1;function Th(e,t){if(is=Ni,e=ed(),Zs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,c=-1,h=0,S=0,y=e,k=null;t:for(;;){for(var p;y!==n||l!==0&&y.nodeType!==3||(s=o+l),y!==i||r!==0&&y.nodeType!==3||(c=o+r),y.nodeType===3&&(o+=y.nodeValue.length),(p=y.firstChild)!==null;)k=y,y=p;for(;;){if(y===e)break t;if(k===n&&++h===l&&(s=o),k===i&&++S===r&&(c=o),(p=y.nextSibling)!==null)break;y=k,k=y.parentNode}y=p}n=s===-1||c===-1?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(os={focusedElem:e,selectionRange:n},Ni=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,O=w.memoizedState,m=t.stateNode,d=m.getSnapshotBeforeUpdate(t.elementType===t.type?E:Bt(t.type,E),O);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(T){Oe(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return w=Ra,Ra=!1,w}function al(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Ss(t,n,i)}l=l.next}while(l!==r)}}function eo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ks(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zd(e){var t=e.alternate;t!==null&&(e.alternate=null,Zd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[kl],delete t[as],delete t[dh],delete t[fh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jd(e){return e.tag===5||e.tag===3||e.tag===4}function Ia(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _s(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ji));else if(r!==4&&(e=e.child,e!==null))for(_s(e,t,n),e=e.sibling;e!==null;)_s(e,t,n),e=e.sibling}function Ns(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ns(e,t,n),e=e.sibling;e!==null;)Ns(e,t,n),e=e.sibling}var nt=null,Yt=!1;function vn(e,t,n){for(n=n.child;n!==null;)qd(e,t,n),n=n.sibling}function qd(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Vi,n)}catch{}switch(n.tag){case 5:ut||kr(n,t);case 6:var r=nt,l=Yt;nt=null,vn(e,t,n),nt=r,Yt=l,nt!==null&&(Yt?(e=nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(Yt?(e=nt,n=n.stateNode,e.nodeType===8?No(e.parentNode,n):e.nodeType===1&&No(e,n),vl(e)):No(nt,n.stateNode));break;case 4:r=nt,l=Yt,nt=n.stateNode.containerInfo,Yt=!0,vn(e,t,n),nt=r,Yt=l;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ss(n,t,o),l=l.next}while(l!==r)}vn(e,t,n);break;case 1:if(!ut&&(kr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Oe(n,t,s)}vn(e,t,n);break;case 21:vn(e,t,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,vn(e,t,n),ut=r):vn(e,t,n);break;default:vn(e,t,n)}}function ja(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jh),t.forEach(function(r){var l=Uh.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:nt=s.stateNode,Yt=!1;break e;case 3:nt=s.stateNode.containerInfo,Yt=!0;break e;case 4:nt=s.stateNode.containerInfo,Yt=!0;break e}s=s.return}if(nt===null)throw Error(z(160));qd(i,o,l),nt=null,Yt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(h){Oe(l,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bd(t,e),t=t.sibling}function bd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),Zt(e),r&4){try{al(3,e,e.return),eo(3,e)}catch(E){Oe(e,e.return,E)}try{al(5,e,e.return)}catch(E){Oe(e,e.return,E)}}break;case 1:Xt(t,e),Zt(e),r&512&&n!==null&&kr(n,n.return);break;case 5:if(Xt(t,e),Zt(e),r&512&&n!==null&&kr(n,n.return),e.flags&32){var l=e.stateNode;try{hl(l,"")}catch(E){Oe(e,e.return,E)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&Ec(l,i),Ko(s,o);var h=Ko(s,i);for(o=0;o<c.length;o+=2){var S=c[o],y=c[o+1];S==="style"?Rc(l,y):S==="dangerouslySetInnerHTML"?_c(l,y):S==="children"?hl(l,y):Fs(l,S,y,h)}switch(s){case"input":Ho(l,i);break;case"textarea":Sc(l,i);break;case"select":var k=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ir(l,!!i.multiple,p,!1):k!==!!i.multiple&&(i.defaultValue!=null?Ir(l,!!i.multiple,i.defaultValue,!0):Ir(l,!!i.multiple,i.multiple?[]:"",!1))}l[kl]=i}catch(E){Oe(e,e.return,E)}}break;case 6:if(Xt(t,e),Zt(e),r&4){if(e.stateNode===null)throw Error(z(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(E){Oe(e,e.return,E)}}break;case 3:if(Xt(t,e),Zt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vl(t.containerInfo)}catch(E){Oe(e,e.return,E)}break;case 4:Xt(t,e),Zt(e);break;case 13:Xt(t,e),Zt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(yu=Ue())),r&4&&ja(e);break;case 22:if(S=n!==null&&n.memoizedState!==null,e.mode&1?(ut=(h=ut)||S,Xt(t,e),ut=h):Xt(t,e),Zt(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!S&&e.mode&1)for(V=e,S=e.child;S!==null;){for(y=V=S;V!==null;){switch(k=V,p=k.child,k.tag){case 0:case 11:case 14:case 15:al(4,k,k.return);break;case 1:kr(k,k.return);var w=k.stateNode;if(typeof w.componentWillUnmount=="function"){r=k,n=k.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(E){Oe(r,n,E)}}break;case 5:kr(k,k.return);break;case 22:if(k.memoizedState!==null){Ca(y);continue}}p!==null?(p.return=k,V=p):Ca(y)}S=S.sibling}e:for(S=null,y=e;;){if(y.tag===5){if(S===null){S=y;try{l=y.stateNode,h?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=y.stateNode,c=y.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=Nc("display",o))}catch(E){Oe(e,e.return,E)}}}else if(y.tag===6){if(S===null)try{y.stateNode.nodeValue=h?"":y.memoizedProps}catch(E){Oe(e,e.return,E)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;S===y&&(S=null),y=y.return}S===y&&(S=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Xt(t,e),Zt(e),r&4&&ja(e);break;case 21:break;default:Xt(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Jd(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(hl(l,""),r.flags&=-33);var i=Ia(e);Ns(e,i,l);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Ia(e);_s(e,s,o);break;default:throw Error(z(161))}}catch(c){Oe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ch(e,t,n){V=e,ef(e)}function ef(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var l=V,i=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||bl;if(!o){var s=l.alternate,c=s!==null&&s.memoizedState!==null||ut;s=bl;var h=ut;if(bl=o,(ut=c)&&!h)for(V=l;V!==null;)o=V,c=o.child,o.tag===22&&o.memoizedState!==null?Ma(l):c!==null?(c.return=o,V=c):Ma(l);for(;i!==null;)V=i,ef(i),i=i.sibling;V=l,bl=s,ut=h}Ta(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,V=i):Ta(e)}}function Ta(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ut||eo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ut)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Bt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&pa(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}pa(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var S=h.memoizedState;if(S!==null){var y=S.dehydrated;y!==null&&vl(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}ut||t.flags&512&&ks(t)}catch(k){Oe(t,t.return,k)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function Ca(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function Ma(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eo(4,t)}catch(c){Oe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){Oe(t,l,c)}}var i=t.return;try{ks(t)}catch(c){Oe(t,i,c)}break;case 5:var o=t.return;try{ks(t)}catch(c){Oe(t,o,c)}}}catch(c){Oe(t,t.return,c)}if(t===e){V=null;break}var s=t.sibling;if(s!==null){s.return=t.return,V=s;break}V=t.return}}var Mh=Math.ceil,Ai=yn.ReactCurrentDispatcher,hu=yn.ReactCurrentOwner,Ot=yn.ReactCurrentBatchConfig,de=0,et=null,He=null,rt=0,Rt=0,_r=Fn(0),Ze=0,Tl=null,tr=0,to=0,mu=0,cl=null,Et=null,yu=0,Ar=1/0,sn=null,$i=!1,Rs=null,Mn=null,ei=!1,Nn=null,Xi=0,dl=0,Is=null,yi=-1,gi=0;function pt(){return de&6?Ue():yi!==-1?yi:yi=Ue()}function Pn(e){return e.mode&1?de&2&&rt!==0?rt&-rt:hh.transition!==null?(gi===0&&(gi=Uc()),gi):(e=xe,e!==0||(e=window.event,e=e===void 0?16:Wc(e.type)),e):1}function Vt(e,t,n,r){if(50<dl)throw dl=0,Is=null,Error(z(185));Pl(e,n,r),(!(de&2)||e!==et)&&(e===et&&(!(de&2)&&(to|=n),Ze===4&&kn(e,rt)),Nt(e,r),n===1&&de===0&&!(t.mode&1)&&(Ar=Ue()+500,Ji&&Un()))}function Nt(e,t){var n=e.callbackNode;hp(e,t);var r=_i(e,e===et?rt:0);if(r===0)n!==null&&$u(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$u(n),t===1)e.tag===0?ph(Pa.bind(null,e)):cd(Pa.bind(null,e)),ah(function(){!(de&6)&&Un()}),n=null;else{switch(Ac(r)){case 1:n=Bs;break;case 4:n=Oc;break;case 16:n=ki;break;case 536870912:n=Fc;break;default:n=ki}n=af(n,tf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tf(e,t){if(yi=-1,gi=0,de&6)throw Error(z(327));var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var r=_i(e,e===et?rt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bi(e,r);else{t=r;var l=de;de|=2;var i=rf();(et!==e||rt!==t)&&(sn=null,Ar=Ue()+500,Zn(e,t));do try{Dh();break}catch(s){nf(e,s)}while(!0);tu(),Ai.current=i,de=l,He!==null?t=0:(et=null,rt=0,t=Ze)}if(t!==0){if(t===2&&(l=es(e),l!==0&&(r=l,t=js(e,l))),t===1)throw n=Tl,Zn(e,0),kn(e,r),Nt(e,Ue()),n;if(t===6)kn(e,r);else{if(l=e.current.alternate,!(r&30)&&!Ph(l)&&(t=Bi(e,r),t===2&&(i=es(e),i!==0&&(r=i,t=js(e,i))),t===1))throw n=Tl,Zn(e,0),kn(e,r),Nt(e,Ue()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:Wn(e,Et,sn);break;case 3:if(kn(e,r),(r&130023424)===r&&(t=yu+500-Ue(),10<t)){if(_i(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){pt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=us(Wn.bind(null,e,Et,sn),t);break}Wn(e,Et,sn);break;case 4:if(kn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var o=31-Wt(r);i=1<<o,o=t[o],o>l&&(l=o),r&=~i}if(r=l,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mh(r/1960))-r,10<r){e.timeoutHandle=us(Wn.bind(null,e,Et,sn),r);break}Wn(e,Et,sn);break;case 5:Wn(e,Et,sn);break;default:throw Error(z(329))}}}return Nt(e,Ue()),e.callbackNode===n?tf.bind(null,e):null}function js(e,t){var n=cl;return e.current.memoizedState.isDehydrated&&(Zn(e,t).flags|=256),e=Bi(e,t),e!==2&&(t=Et,Et=n,t!==null&&Ts(t)),e}function Ts(e){Et===null?Et=e:Et.push.apply(Et,e)}function Ph(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!Qt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~mu,t&=~to,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function Pa(e){if(de&6)throw Error(z(327));Pr();var t=_i(e,0);if(!(t&1))return Nt(e,Ue()),null;var n=Bi(e,t);if(e.tag!==0&&n===2){var r=es(e);r!==0&&(t=r,n=js(e,r))}if(n===1)throw n=Tl,Zn(e,0),kn(e,t),Nt(e,Ue()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wn(e,Et,sn),Nt(e,Ue()),null}function gu(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(Ar=Ue()+500,Ji&&Un())}}function nr(e){Nn!==null&&Nn.tag===0&&!(de&6)&&Pr();var t=de;de|=1;var n=Ot.transition,r=xe;try{if(Ot.transition=null,xe=1,e)return e()}finally{xe=r,Ot.transition=n,de=t,!(de&6)&&Un()}}function vu(){Rt=_r.current,Ie(_r)}function Zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uh(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(qs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ti();break;case 3:Fr(),Ie(kt),Ie(at),su();break;case 5:ou(r);break;case 4:Fr();break;case 13:Ie(Pe);break;case 19:Ie(Pe);break;case 10:nu(r.type._context);break;case 22:case 23:vu()}n=n.return}if(et=e,He=e=Ln(e.current,null),rt=Rt=t,Ze=0,Tl=null,mu=to=tr=0,Et=cl=null,Gn!==null){for(t=0;t<Gn.length;t++)if(n=Gn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=l,r.next=o}n.pending=r}Gn=null}return e}function nf(e,t){do{var n=He;try{if(tu(),pi.current=Ui,Fi){for(var r=Le.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Fi=!1}if(er=0,be=Ke=Le=null,ul=!1,Rl=0,hu.current=null,n===null||n.return===null){Ze=1,Tl=t,He=null;break}e:{var i=e,o=n.return,s=n,c=t;if(t=rt,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,S=s,y=S.tag;if(!(S.mode&1)&&(y===0||y===11||y===15)){var k=S.alternate;k?(S.updateQueue=k.updateQueue,S.memoizedState=k.memoizedState,S.lanes=k.lanes):(S.updateQueue=null,S.memoizedState=null)}var p=xa(o);if(p!==null){p.flags&=-257,wa(p,o,s,i,t),p.mode&1&&va(i,h,t),t=p,c=h;var w=t.updateQueue;if(w===null){var E=new Set;E.add(c),t.updateQueue=E}else w.add(c);break e}else{if(!(t&1)){va(i,h,t),xu();break e}c=Error(z(426))}}else if(je&&s.mode&1){var O=xa(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),wa(O,o,s,i,t),bs(Ur(c,s));break e}}i=c=Ur(c,s),Ze!==4&&(Ze=2),cl===null?cl=[i]:cl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Ad(i,c,t);fa(i,m);break e;case 1:s=c;var d=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Mn===null||!Mn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var T=$d(i,s,t);fa(i,T);break e}}i=i.return}while(i!==null)}of(n)}catch(C){t=C,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function rf(){var e=Ai.current;return Ai.current=Ui,e===null?Ui:e}function xu(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),et===null||!(tr&268435455)&&!(to&268435455)||kn(et,rt)}function Bi(e,t){var n=de;de|=2;var r=rf();(et!==e||rt!==t)&&(sn=null,Zn(e,t));do try{Lh();break}catch(l){nf(e,l)}while(!0);if(tu(),de=n,Ai.current=r,He!==null)throw Error(z(261));return et=null,rt=0,Ze}function Lh(){for(;He!==null;)lf(He)}function Dh(){for(;He!==null&&!ip();)lf(He)}function lf(e){var t=uf(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?of(e):He=t,hu.current=null}function of(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ih(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,He=null;return}}else if(n=Rh(n,t,Rt),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Ze===0&&(Ze=5)}function Wn(e,t,n){var r=xe,l=Ot.transition;try{Ot.transition=null,xe=1,zh(e,t,n,r)}finally{Ot.transition=l,xe=r}return null}function zh(e,t,n,r){do Pr();while(Nn!==null);if(de&6)throw Error(z(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(mp(e,i),e===et&&(He=et=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ei||(ei=!0,af(ki,function(){return Pr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ot.transition,Ot.transition=null;var o=xe;xe=1;var s=de;de|=4,hu.current=null,Th(e,n),bd(n,e),th(os),Ni=!!is,os=is=null,e.current=n,Ch(n),op(),de=s,xe=o,Ot.transition=i}else e.current=n;if(ei&&(ei=!1,Nn=e,Xi=l),i=e.pendingLanes,i===0&&(Mn=null),ap(n.stateNode),Nt(e,Ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if($i)throw $i=!1,e=Rs,Rs=null,e;return Xi&1&&e.tag!==0&&Pr(),i=e.pendingLanes,i&1?e===Is?dl++:(dl=0,Is=e):dl=0,Un(),null}function Pr(){if(Nn!==null){var e=Ac(Xi),t=Ot.transition,n=xe;try{if(Ot.transition=null,xe=16>e?16:e,Nn===null)var r=!1;else{if(e=Nn,Nn=null,Xi=0,de&6)throw Error(z(331));var l=de;for(de|=4,V=e.current;V!==null;){var i=V,o=i.child;if(V.flags&16){var s=i.deletions;if(s!==null){for(var c=0;c<s.length;c++){var h=s[c];for(V=h;V!==null;){var S=V;switch(S.tag){case 0:case 11:case 15:al(8,S,i)}var y=S.child;if(y!==null)y.return=S,V=y;else for(;V!==null;){S=V;var k=S.sibling,p=S.return;if(Zd(S),S===h){V=null;break}if(k!==null){k.return=p,V=k;break}V=p}}}var w=i.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var O=E.sibling;E.sibling=null,E=O}while(E!==null)}}V=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,V=o;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:al(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,V=m;break e}V=i.return}}var d=e.current;for(V=d;V!==null;){o=V;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,V=v;else e:for(o=d;V!==null;){if(s=V,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:eo(9,s)}}catch(C){Oe(s,s.return,C)}if(s===o){V=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,V=T;break e}V=s.return}}if(de=l,Un(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Vi,e)}catch{}r=!0}return r}finally{xe=n,Ot.transition=t}}return!1}function La(e,t,n){t=Ur(n,t),t=Ad(e,t,1),e=Cn(e,t,1),t=pt(),e!==null&&(Pl(e,1,t),Nt(e,t))}function Oe(e,t,n){if(e.tag===3)La(e,e,n);else for(;t!==null;){if(t.tag===3){La(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){e=Ur(n,e),e=$d(t,e,1),t=Cn(t,e,1),e=pt(),t!==null&&(Pl(t,1,e),Nt(t,e));break}}t=t.return}}function Oh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&n,et===e&&(rt&n)===n&&(Ze===4||Ze===3&&(rt&130023424)===rt&&500>Ue()-yu?Zn(e,0):mu|=n),Nt(e,t)}function sf(e,t){t===0&&(e.mode&1?(t=Hl,Hl<<=1,!(Hl&130023424)&&(Hl=4194304)):t=1);var n=pt();e=hn(e,t),e!==null&&(Pl(e,t,n),Nt(e,n))}function Fh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sf(e,n)}function Uh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),sf(e,n)}var uf;uf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)St=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return St=!1,Nh(e,t,n);St=!!(e.flags&131072)}else St=!1,je&&t.flags&1048576&&dd(t,Pi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;mi(e,t),e=t.pendingProps;var l=Dr(t,at.current);Mr(t,n),l=au(null,t,r,e,l,n);var i=cu();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(r)?(i=!0,Ci(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,lu(t),l.updater=bi,t.stateNode=l,l._reactInternals=t,ms(t,r,e,n),t=vs(null,t,r,!0,i,n)):(t.tag=0,je&&i&&Js(t),ft(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(mi(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=$h(r),e=Bt(r,e),l){case 0:t=gs(null,t,r,e,n);break e;case 1:t=ka(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,Bt(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Bt(r,l),gs(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Bt(r,l),ka(e,t,r,l,n);case 3:e:{if(Hd(t),e===null)throw Error(z(387));r=t.pendingProps,i=t.memoizedState,l=i.element,gd(e,t),zi(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=Ur(Error(z(423)),t),t=_a(e,t,r,n,l);break e}else if(r!==l){l=Ur(Error(z(424)),t),t=_a(e,t,r,n,l);break e}else for(It=Tn(t.stateNode.containerInfo.firstChild),jt=t,je=!0,Ht=null,n=md(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zr(),r===l){t=mn(e,t,n);break e}ft(e,t,r,n)}t=t.child}return t;case 5:return vd(t),e===null&&fs(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,o=l.children,ss(r,l)?o=null:i!==null&&ss(r,i)&&(t.flags|=32),Yd(e,t),ft(e,t,o,n),t.child;case 6:return e===null&&fs(t),null;case 13:return Wd(e,t,n);case 4:return iu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Or(t,null,r,n):ft(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Bt(r,l),Ea(e,t,r,l,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,o=l.value,_e(Li,r._currentValue),r._currentValue=o,i!==null)if(Qt(i.value,o)){if(i.children===l.children&&!kt.current){t=mn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var c=s.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=dn(-1,n&-n),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var S=h.pending;S===null?c.next=c:(c.next=S.next,S.next=c),h.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ps(i.return,n,t),s.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),ps(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ft(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Mr(t,n),l=Ft(l),r=r(l),t.flags|=1,ft(e,t,r,n),t.child;case 14:return r=t.type,l=Bt(r,t.pendingProps),l=Bt(r.type,l),Sa(e,t,r,l,n);case 15:return Xd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Bt(r,l),mi(e,t),t.tag=1,_t(r)?(e=!0,Ci(t)):e=!1,Mr(t,n),Ud(t,r,l),ms(t,r,l,n),vs(null,t,r,!0,e,n);case 19:return Vd(e,t,n);case 22:return Bd(e,t,n)}throw Error(z(156,t.tag))};function af(e,t){return zc(e,t)}function Ah(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,r){return new Ah(e,t,n,r)}function wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $h(e){if(typeof e=="function")return wu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===As)return 11;if(e===$s)return 14}return 2}function Ln(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vi(e,t,n,r,l,i){var o=2;if(r=e,typeof e=="function")wu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hr:return Jn(n.children,l,i,t);case Us:o=8,l|=8;break;case Ao:return e=zt(12,n,t,l|2),e.elementType=Ao,e.lanes=i,e;case $o:return e=zt(13,n,t,l),e.elementType=$o,e.lanes=i,e;case Xo:return e=zt(19,n,t,l),e.elementType=Xo,e.lanes=i,e;case vc:return no(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yc:o=10;break e;case gc:o=9;break e;case As:o=11;break e;case $s:o=14;break e;case wn:o=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=zt(o,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function Jn(e,t,n,r){return e=zt(7,e,r,t),e.lanes=n,e}function no(e,t,n,r){return e=zt(22,e,r,t),e.elementType=vc,e.lanes=n,e.stateNode={isHidden:!1},e}function Lo(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function Do(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xh(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ho(0),this.expirationTimes=ho(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Eu(e,t,n,r,l,i,o,s,c){return e=new Xh(e,t,n,s,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=zt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lu(i),e}function Bh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cf(e){if(!e)return zn;e=e._reactInternals;e:{if(lr(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(_t(n))return ad(e,n,t)}return t}function df(e,t,n,r,l,i,o,s,c){return e=Eu(n,r,!0,e,l,i,o,s,c),e.context=cf(null),n=e.current,r=pt(),l=Pn(n),i=dn(r,l),i.callback=t??null,Cn(n,i,l),e.current.lanes=l,Pl(e,l,r),Nt(e,r),e}function ro(e,t,n,r){var l=t.current,i=pt(),o=Pn(l);return n=cf(n),t.context===null?t.context=n:t.pendingContext=n,t=dn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Cn(l,t,o),e!==null&&(Vt(e,l,o,i),fi(e,l,o)),o}function Yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Da(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Su(e,t){Da(e,t),(e=e.alternate)&&Da(e,t)}function Yh(){return null}var ff=typeof reportError=="function"?reportError:function(e){console.error(e)};function ku(e){this._internalRoot=e}lo.prototype.render=ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));ro(e,t,null,null)};lo.prototype.unmount=ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nr(function(){ro(null,e,null,null)}),t[pn]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&Hc(e)}};function _u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function za(){}function Hh(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var h=Yi(o);i.call(h)}}var o=df(t,r,e,0,null,!1,!1,"",za);return e._reactRootContainer=o,e[pn]=o.current,El(e.nodeType===8?e.parentNode:e),nr(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var s=r;r=function(){var h=Yi(c);s.call(h)}}var c=Eu(e,0,!1,null,null,!1,!1,"",za);return e._reactRootContainer=c,e[pn]=c.current,El(e.nodeType===8?e.parentNode:e),nr(function(){ro(t,c,n,r)}),c}function oo(e,t,n,r,l){var i=n._reactRootContainer;if(i){var o=i;if(typeof l=="function"){var s=l;l=function(){var c=Yi(o);s.call(c)}}ro(t,o,e,l)}else o=Hh(n,t,e,l,r);return Yi(o)}$c=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tl(t.pendingLanes);n!==0&&(Ys(t,n|1),Nt(t,Ue()),!(de&6)&&(Ar=Ue()+500,Un()))}break;case 13:nr(function(){var r=hn(e,1);if(r!==null){var l=pt();Vt(r,e,1,l)}}),Su(e,1)}};Hs=function(e){if(e.tag===13){var t=hn(e,134217728);if(t!==null){var n=pt();Vt(t,e,134217728,n)}Su(e,134217728)}};Xc=function(e){if(e.tag===13){var t=Pn(e),n=hn(e,t);if(n!==null){var r=pt();Vt(n,e,t,r)}Su(e,t)}};Bc=function(){return xe};Yc=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};Jo=function(e,t,n){switch(t){case"input":if(Ho(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Zi(r);if(!l)throw Error(z(90));wc(r),Ho(r,l)}}}break;case"textarea":Sc(e,n);break;case"select":t=n.value,t!=null&&Ir(e,!!n.multiple,t,!1)}};Tc=gu;Cc=nr;var Wh={usingClientEntryPoint:!1,Events:[Dl,vr,Zi,Ic,jc,gu]},Jr={findFiberByHostInstance:Qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vh={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lc(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||Yh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ti.isDisabled&&ti.supportsFiber)try{Vi=ti.inject(Vh),tn=ti}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wh;Ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_u(t))throw Error(z(200));return Bh(e,t,null,n)};Ct.createRoot=function(e,t){if(!_u(e))throw Error(z(299));var n=!1,r="",l=ff;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Eu(e,1,!1,null,null,n,!1,r,l),e[pn]=t.current,El(e.nodeType===8?e.parentNode:e),new ku(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Lc(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return nr(e)};Ct.hydrate=function(e,t,n){if(!io(t))throw Error(z(200));return oo(null,e,t,!0,n)};Ct.hydrateRoot=function(e,t,n){if(!_u(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",o=ff;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=df(t,null,e,1,n??null,l,!1,i,o),e[pn]=t.current,El(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new lo(t)};Ct.render=function(e,t,n){if(!io(t))throw Error(z(200));return oo(null,e,t,!1,n)};Ct.unmountComponentAtNode=function(e){if(!io(e))throw Error(z(40));return e._reactRootContainer?(nr(function(){oo(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0):!1};Ct.unstable_batchedUpdates=gu;Ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!io(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return oo(e,t,n,!1,r)};Ct.version="18.3.1-next-f1338f8080-20240426";function pf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pf)}catch(e){console.error(e)}}pf(),fc.exports=Ct;var Qh=fc.exports,hf,Oa=Qh;hf=Oa.createRoot,Oa.hydrateRoot;const en={width:3600,height:2600,x:0,y:0},so="#8ecae6",mf=100,Yn={type:"door",wall:"top",offset:200,x:0,y:0,rotation:0,shape:"rect"},Fa={door:{width:700,height:200},window:{width:1400,height:160},outlet:{width:120,height:80},lan:{width:120,height:80},pillar:{width:320,height:320}},qr={name:"",width:1200,height:600,color:so,radius:{tl:0,tr:0,br:0,bl:0}},Gt=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`id-${Date.now()}-${Math.random().toString(16).slice(2)}`,G=e=>{const t=Number(e);return Number.isFinite(t)?t:0},fl=e=>({tl:G(e==null?void 0:e.tl),tr:G(e==null?void 0:e.tr),br:G(e==null?void 0:e.br),bl:G(e==null?void 0:e.bl)}),Hi=e=>{const t=["door","window","outlet","lan","pillar"].includes(e==null?void 0:e.type)?e.type:Yn.type,n=["top","right","bottom","left","free"].includes(e==null?void 0:e.wall)?e.wall:Yn.wall,r=Fa[t]??Fa.door;return{id:(e==null?void 0:e.id)??Gt(),type:t,wall:t==="pillar"?"free":n,offset:Math.max(0,G((e==null?void 0:e.offset)??Yn.offset)),x:G((e==null?void 0:e.x)??Yn.x),y:G((e==null?void 0:e.y)??Yn.y),rotation:Number.isFinite(Number(e==null?void 0:e.rotation))?Number(e.rotation):Yn.rotation,shape:t==="pillar"&&["rect","triangle"].includes(e==null?void 0:e.shape)?e.shape:Yn.shape,width:Math.max(40,G((e==null?void 0:e.width)??(e==null?void 0:e.length)??r.width)),height:Math.max(40,G((e==null?void 0:e.height)??(e==null?void 0:e.length)??r.height)),memo:typeof(e==null?void 0:e.memo)=="string"?e.memo:"",trianglePoints:t==="pillar"&&(e==null?void 0:e.shape)==="triangle"?Array.isArray(e==null?void 0:e.trianglePoints)&&e.trianglePoints.length===3?e.trianglePoints.map(l=>({x:G(l==null?void 0:l.x),y:G(l==null?void 0:l.y)})):Gh(Math.max(40,G((e==null?void 0:e.width)??(e==null?void 0:e.length)??r.width)),Math.max(40,G((e==null?void 0:e.height)??(e==null?void 0:e.length)??r.height))):void 0}},yf=e=>Array.isArray(e)?e.map(Hi):[],Gh=(e,t)=>[{x:e/2,y:0},{x:0,y:t},{x:e,y:t}],xi=({name:e,width:t,height:n,x:r,y:l,radius:i,fixtures:o}={})=>({id:Gt(),name:e??"",width:t==null||t===""?en.width:G(t),height:n==null||n===""?en.height:G(n),x:G(r),y:G(l),radius:i??{tl:0,tr:0,br:0,bl:0},fixtures:yf(o)}),Ua=xi({name:"1",width:en.width,height:en.height,x:en.x,y:en.y}),Aa=e=>{var r,l,i,o;const t=G((e==null?void 0:e.width)??(e==null?void 0:e.w)??en.width),n=G((e==null?void 0:e.height)??(e==null?void 0:e.h)??en.height);return{id:(e==null?void 0:e.id)??Gt(),name:(e==null?void 0:e.name)??"",width:t>=0?t:en.width,height:n>=0?n:en.height,x:G(e==null?void 0:e.x),y:G(e==null?void 0:e.y),radius:{tl:G(((r=e==null?void 0:e.radius)==null?void 0:r.tl)??(e==null?void 0:e.radiusTL)??0),tr:G(((l=e==null?void 0:e.radius)==null?void 0:l.tr)??(e==null?void 0:e.radiusTR)??0),br:G(((i=e==null?void 0:e.radius)==null?void 0:i.br)??(e==null?void 0:e.radiusBR)??0),bl:G(((o=e==null?void 0:e.radius)==null?void 0:o.bl)??(e==null?void 0:e.radiusBL)??0)},fixtures:yf(e==null?void 0:e.fixtures)}},Kh=(e,t)=>{var n,r,l,i;return{id:e.id??Gt(),roomId:e.roomId??t,name:e.name??"",width:G(e.width),height:G(e.height),x:G(e.x),y:G(e.y),color:e.color??so,rotation:Number.isFinite(Number(e.rotation))?Number(e.rotation):0,memo:typeof(e==null?void 0:e.memo)=="string"?e.memo:"",radius:{tl:G(((n=e==null?void 0:e.radius)==null?void 0:n.tl)??(e==null?void 0:e.radiusTL)??0),tr:G(((r=e==null?void 0:e.radius)==null?void 0:r.tr)??(e==null?void 0:e.radiusTR)??0),br:G(((l=e==null?void 0:e.radius)==null?void 0:l.br)??(e==null?void 0:e.radiusBR)??0),bl:G(((i=e==null?void 0:e.radius)==null?void 0:i.bl)??(e==null?void 0:e.radiusBL)??0)}}},Cs=e=>({id:(e==null?void 0:e.id)??Gt(),name:(e==null?void 0:e.name)??qr.name,width:G(e==null?void 0:e.width)||qr.width,height:G(e==null?void 0:e.height)||qr.height,color:(e==null?void 0:e.color)??qr.color,rotation:Number.isFinite(Number(e==null?void 0:e.rotation))?Number(e.rotation):0,radius:fl((e==null?void 0:e.radius)??qr.radius)}),Nu=e=>Array.isArray(e)?e.map(Cs):[],Zh={rooms:[Ua],activeRoomId:Ua.id,furnitures:[],selectedId:null,selectedFixtureId:null,gridMM:mf,templates:Nu([{name:"",width:970,height:1950,color:"#93c5fd",rotation:0,radius:{tl:0,tr:0,br:0,bl:0}},{name:"",width:1200,height:600,color:"#fde68a",rotation:0,radius:{tl:0,tr:0,br:0,bl:0}},{name:"",width:450,height:450,color:"#bbf7d0",rotation:0,radius:{tl:90,tr:90,br:90,bl:90}},{name:"(2)",width:1500,height:800,color:"#fecaca",rotation:0,radius:{tl:8,tr:8,br:8,bl:8}},{name:"",width:900,height:300,color:"#e9d5ff",rotation:0,radius:{tl:0,tr:0,br:0,bl:0}},{name:"",width:1e3,height:500,color:"#fed7aa",rotation:0,radius:{tl:4,tr:4,br:4,bl:4}},{name:"(4)",width:1400,height:800,color:"#fef3c7",rotation:0,radius:{tl:6,tr:6,br:6,bl:6}},{name:"",width:1200,height:400,color:"#e2e8f0",rotation:0,radius:{tl:0,tr:0,br:0,bl:0}},{name:"",width:650,height:650,color:"#cbd5f5",rotation:0,radius:{tl:4,tr:4,br:4,bl:4}}])},Jh=e=>{var o;const t=Array.isArray(e==null?void 0:e.rooms)?e.rooms.map(Aa):[Aa((e==null?void 0:e.room)??{})],n=((o=t[0])==null?void 0:o.id)??Gt(),r=Array.isArray(e==null?void 0:e.furnitures)?e.furnitures.map(s=>Kh(s,n)):[],l=new Set(t.map(s=>s.id)),i=r.map(s=>({...s,roomId:l.has(s.roomId)?s.roomId:n}));return{rooms:t,furnitures:i,gridMM:G(e==null?void 0:e.gridMM)||mf,templates:Nu(e==null?void 0:e.templates)}},qh=e=>{const n=(Number(e.rotation)||0)*Math.PI/180,r=Math.abs(Math.cos(n)),l=Math.abs(Math.sin(n)),i=G(e.width),o=G(e.height);return{w:i*r+o*l,h:i*l+o*r}},$a=(e,t)=>({id:Gt(),roomId:t,name:e.name&&e.name.trim()?e.name:"",width:G(e.width),height:G(e.height),x:G(e.x)+100,y:G(e.y)+100,color:e.color??so,rotation:Number.isFinite(Number(e.rotation))?e.rotation:0,radius:fl(e.radius)}),Xa=e=>({...Hi(e),id:Gt()}),bh=({name:e,width:t,height:n,color:r,roomId:l})=>({id:Gt(),roomId:l,name:e&&e.trim()?e:"",width:G(t)||1200,height:G(n)||600,x:100,y:100,color:r||so,rotation:0,radius:{tl:0,tr:0,br:0,bl:0}});function em(e,t){var n,r,l,i,o,s,c,h,S,y,k;switch(t.type){case"SET_ACTIVE_ROOM":return{...e,activeRoomId:t.payload,selectedId:null,selectedFixtureId:null};case"ADD_ROOM":{const p=e.rooms.reduce((E,O)=>Math.max(E,O.x+O.width),0),w=xi({name:((n=t.payload)==null?void 0:n.name)??`${e.rooms.length+1}`,width:(r=t.payload)==null?void 0:r.width,height:(l=t.payload)==null?void 0:l.height,x:((i=t.payload)==null?void 0:i.x)??p+200,y:((o=t.payload)==null?void 0:o.y)??0});return{...e,rooms:[...e.rooms,w],activeRoomId:w.id,selectedId:null,selectedFixtureId:null}}case"DUPLICATE_ROOM":{const p=e.rooms.find(O=>O.id===t.payload);if(!p)return e;const w=xi({name:`${p.name} `,width:p.width,height:p.height,x:p.x+200,y:p.y+200,fixtures:(p.fixtures??[]).map(Xa)}),E=e.furnitures.filter(O=>O.roomId===p.id).map(O=>({...O,id:Gt(),roomId:w.id}));return{...e,rooms:[...e.rooms,w],furnitures:[...e.furnitures,...E],activeRoomId:w.id,selectedId:null,selectedFixtureId:null}}case"PASTE_ROOM":{const p=t.payload;if(!(p!=null&&p.room))return e;const w=Array.isArray(p.room.fixtures)?p.room.fixtures.map(Xa):[],E=xi({name:`${p.room.name??""} `,width:p.room.width,height:p.room.height,x:G(p.room.x)+200,y:G(p.room.y)+200,fixtures:w}),O=Array.isArray(p.furnitures)?p.furnitures.map(m=>$a(m,E.id)):[];return{...e,rooms:[...e.rooms,E],furnitures:[...e.furnitures,...O],activeRoomId:E.id,selectedId:null,selectedFixtureId:null}}case"UPDATE_ROOM":{const{id:p,updates:w}=t.payload;return{...e,rooms:e.rooms.map(E=>E.id===p?{...E,...w,width:w.width!==void 0?Math.max(0,G(w.width)):E.width,height:w.height!==void 0?Math.max(0,G(w.height)):E.height,x:w.x!==void 0?Math.max(0,G(w.x)):E.x,y:w.y!==void 0?Math.max(0,G(w.y)):E.y,radius:w.radius!==void 0?fl(w.radius):E.radius}:E)}}case"MOVE_ROOM":{const{id:p,x:w,y:E}=t.payload;return{...e,rooms:e.rooms.map(O=>O.id===p?{...O,x:Math.max(0,G(w)),y:Math.max(0,G(E))}:O)}}case"DELETE_ROOM":{if(e.rooms.length<=1)return e;const p=t.payload,w=e.rooms.filter(d=>d.id!==p);if(w.length===e.rooms.length)return e;const E=e.furnitures.filter(d=>d.roomId!==p),O=new Set(w.flatMap(d=>d.fixtures??[]).map(d=>d.id)),m=e.activeRoomId===p?((s=w[0])==null?void 0:s.id)??null:e.activeRoomId;return{...e,rooms:w,furnitures:E,activeRoomId:m,selectedId:null,selectedFixtureId:O.has(e.selectedFixtureId)?e.selectedFixtureId:null}}case"DELETE_FURNITURE":{const p=t.payload,w=e.furnitures.filter(E=>E.id!==p);return w.length===e.furnitures.length?e:{...e,furnitures:w,selectedId:null,selectedFixtureId:e.selectedFixtureId&&e.selectedFixtureId===p?null:e.selectedFixtureId}}case"ADD_FURNITURE":{const p=e.furnitures.find(m=>m.id===e.selectedId),w=((c=t.payload)==null?void 0:c.roomId)??e.activeRoomId??(p==null?void 0:p.roomId)??null;if(!w)return e;const E=((h=t.payload)==null?void 0:h.templateId)&&e.templates.find(m=>m.id===t.payload.templateId),O=bh({...t.payload,roomId:w});return E&&(O.name=E.name,O.width=E.width,O.height=E.height,O.color=E.color,O.rotation=E.rotation,O.radius=fl(E.radius)),{...e,furnitures:[...e.furnitures,O],selectedId:O.id,activeRoomId:null,selectedFixtureId:null}}case"DUPLICATE_FURNITURE":{const p=e.furnitures.find(E=>E.id===t.payload);if(!p)return e;const w={...p,id:Gt(),name:`${p.name} `,x:p.x+100,y:p.y+100};return{...e,furnitures:[...e.furnitures,w],selectedId:w.id,activeRoomId:null,selectedFixtureId:null}}case"PASTE_FURNITURE":{const p=t.payload;if(!(p!=null&&p.furniture))return e;const w=new Set(e.rooms.map(d=>d.id)),E=p.targetRoomId,O=w.has(E)?E:w.has(p.furniture.roomId)?p.furniture.roomId:null,m=$a(p.furniture,O);return{...e,furnitures:[...e.furnitures,m],selectedId:m.id,activeRoomId:null,selectedFixtureId:null}}case"SELECT_FURNITURE":return{...e,selectedId:t.payload,activeRoomId:null,selectedFixtureId:null};case"SELECT_FIXTURE":return{...e,selectedId:null,activeRoomId:null,selectedFixtureId:t.payload};case"UPDATE_FURNITURE":{const{id:p,updates:w}=t.payload;return{...e,furnitures:e.furnitures.map(E=>E.id===p?{...E,...w,width:w.width!==void 0?G(w.width):E.width,height:w.height!==void 0?G(w.height):E.height,radius:w.radius!==void 0?fl(w.radius):E.radius}:E)}}case"MOVE_FURNITURE":{const{id:p,x:w,y:E,absX:O,absY:m}=t.payload,d=e.furnitures.find(N=>N.id===p);if(!d)return e;const{w:v,h:T}=qh(d),C=e.rooms.find(N=>N.id===d.roomId),j=O!==void 0?G(O):C?C.x+G(w):G(w),g=m!==void 0?G(m):C?C.y+G(E):G(E),a=G(d.width),R=G(d.height),_=j+a/2,K=g+R/2,ne=_-v/2,Z=K-T/2,F=e.rooms.find(N=>ne>=N.x&&Z>=N.y&&ne+v<=N.x+N.width&&Z+T<=N.y+N.height),Fe=F?F.id:null,Je=F?j-F.x:j,Pt=F?g-F.y:g;return{...e,furnitures:e.furnitures.map(N=>N.id===p?{...N,roomId:Fe,x:G(Je),y:G(Pt)}:N)}}case"TOGGLE_ROTATION":{const p=t.payload;return{...e,furnitures:e.furnitures.map(w=>{var E,O,m,d;return w.id===p?{...w,rotation:Number(w.rotation)+90,width:w.width,height:w.height,radius:{tl:((E=w.radius)==null?void 0:E.bl)??0,tr:((O=w.radius)==null?void 0:O.tl)??0,br:((m=w.radius)==null?void 0:m.tr)??0,bl:((d=w.radius)==null?void 0:d.br)??0}}:w})}}case"IMPORT_LAYOUT":{const p=Jh(t.payload);return{rooms:p.rooms,activeRoomId:((S=p.rooms[0])==null?void 0:S.id)??null,furnitures:p.furnitures,selectedId:null,selectedFixtureId:null,gridMM:p.gridMM,templates:p.templates.length>0?p.templates:e.templates}}case"SET_TEMPLATES":return{...e,templates:Nu(t.payload)};case"ADD_TEMPLATE":{const p=Cs(t.payload);return{...e,templates:[...e.templates,p]}}case"UPDATE_TEMPLATE":{const{id:p,updates:w}=t.payload;return{...e,templates:e.templates.map(E=>E.id===p?{...E,...Cs({...E,...w})}:E)}}case"DELETE_TEMPLATE":{const p=t.payload;return{...e,templates:e.templates.filter(w=>w.id!==p)}}case"ADD_FIXTURE":{const p=(y=t.payload)==null?void 0:y.roomId,w=Hi(((k=t.payload)==null?void 0:k.fixture)??{});return p?{...e,rooms:e.rooms.map(E=>E.id===p?{...E,fixtures:[...E.fixtures??[],w]}:E),selectedFixtureId:w.id,selectedId:null,activeRoomId:null}:e}case"UPDATE_FIXTURE":{const{roomId:p,fixtureId:w,updates:E}=t.payload??{};return!p||!w?e:{...e,rooms:e.rooms.map(O=>O.id===p?{...O,fixtures:(O.fixtures??[]).map(m=>m.id===w?Hi({...m,...E}):m)}:O)}}case"DELETE_FIXTURE":{const{roomId:p,fixtureId:w}=t.payload??{};return!p||!w?e:{...e,rooms:e.rooms.map(E=>E.id===p?{...E,fixtures:(E.fixtures??[]).filter(O=>O.id!==w)}:E),selectedFixtureId:e.selectedFixtureId===w?null:e.selectedFixtureId}}case"SET_GRID_MM":return{...e,gridMM:t.payload};default:return e}}const tm=()=>({past:[],present:Zh,future:[],isDragging:!1}),nm=new Set(["SELECT_FURNITURE","SELECT_FIXTURE","SET_ACTIVE_ROOM"]),rm=e=>e.type==="MOVE_ROOM"||e.type==="MOVE_FURNITURE"||e.type==="UPDATE_FIXTURE"||e.type==="UPDATE_FURNITURE"||e.type==="UPDATE_ROOM",lm=(e,t)=>{switch(t.type){case"UNDO":{if(e.past.length===0)return e;const n=e.past[e.past.length-1];return{...e,past:e.past.slice(0,-1),present:n,future:[e.present,...e.future],isDragging:!1}}case"REDO":{if(e.future.length===0)return e;const n=e.future[0];return{...e,past:[...e.past,e.present],present:n,future:e.future.slice(1),isDragging:!1}}case"BEGIN_DRAG":return e.isDragging?e:{...e,past:[...e.past,e.present],future:[],isDragging:!0};case"END_DRAG":return{...e,isDragging:!1};default:{const n=em(e.present,t);return n===e.present?e:e.isDragging&&rm(t)?{...e,present:n}:nm.has(t.type)?{...e,present:n}:{...e,past:[...e.past,e.present],present:n,future:[]}}}};function im({canUndo:e,canRedo:t,onUndo:n,onRedo:r,onOpenSettings:l}){return u.jsxs("header",{className:"app__header",children:[u.jsx("h1",{children:"Room Planner"}),u.jsxs("div",{className:"app__header-actions",children:[u.jsx("button",{className:"btn btn--ghost btn--small",type:"button",onClick:n,disabled:!e,children:""}),u.jsx("button",{className:"btn btn--ghost btn--small",type:"button",onClick:r,disabled:!t,children:""}),u.jsx("button",{className:"btn btn--ghost btn--small",type:"button",onClick:l,children:"Settings"})]})]})}const wt={maxW:600,maxH:400,margin:50},Ru=e=>{if(!e||e.length===0)return{minX:0,minY:0,width:0,height:0};let t=e[0].x,n=e[0].y,r=e[0].x+e[0].width,l=e[0].y+e[0].height;return e.forEach(i=>{t=Math.min(t,i.x),n=Math.min(n,i.y),r=Math.max(r,i.x+i.width),l=Math.max(l,i.y+i.height)}),{minX:t,minY:n,width:r-t,height:l-n}},om=(e,t=wt.maxW,n=wt.maxH)=>{const r=Ru(e);return!r.width||!r.height?1:Math.min(t/r.width,n/r.height)},Nr=e=>{const n=(Number(e.rotation)||0)*Math.PI/180,r=Math.abs(Math.cos(n)),l=Math.abs(Math.sin(n)),i=Number(e.width)||0,o=Number(e.height)||0;return{w:i*r+o*l,h:i*l+o*r}};function sm({rooms:e,furnitures:t,selectedId:n,selectedFixtureId:r,activeRoomId:l,viewMode:i,viewRoomId:o,canToggleViewMode:s,onToggleViewMode:c,gridMM:h,isMobile:S,dispatch:y}){const O={door:"#0f172a",window:"#38bdf8",outlet:"#f59e0b",lan:"#22c55e",pillar:"#64748b"},m=f=>`${(f/1e3).toFixed(5).replace(/\.?0+$/,"")} m`,d=$.useRef(null),v=$.useRef(null),[T,C]=$.useState(!1),[j,g]=$.useState({width:wt.maxW+wt.margin*2,height:wt.maxH+wt.margin*2}),a=$.useRef({active:!1,kind:null,id:null,roomId:null,wall:null,resizeHandle:null,resizeTarget:null,resizeBase:null,resizeRotation:null,resizeStart:null,vertexIndex:null,offsetX:0,offsetY:0,scale:null,bounds:null,lastRoomPos:null}),R=$.useRef({rafId:null,dx:0,dy:0}),_=$.useRef({onMouseMove:null,onMouseUp:null}),K=$.useCallback(()=>{const f=Number((h/1e3).toFixed(5)).toString(),x=window.prompt("Grid size (m):",f);if(x===null)return;const M=Number(x);!Number.isFinite(M)||M<=0||y({type:"SET_GRID_MM",payload:Math.max(1,Math.round(M*1e3))})},[y,h]),ne=i==="room"&&o?e.filter(f=>f.id===o):e,Z=i==="room"&&o&&ne[0]?{minX:0,minY:0,width:ne[0].width,height:ne[0].height}:Ru(ne),F=i==="room"&&o&&ne[0]?{x:ne[0].x,y:ne[0].y}:{x:0,y:0},Fe=Math.max(1,j.width-wt.margin*2),Je=Math.max(1,j.height-wt.margin*2),Pt=om(ne,Fe,Je),N=a.current.active&&a.current.kind==="room"&&a.current.scale?a.current.scale:Pt,ee=2e4,re=(f,x)=>{if(!f)return x;if(!x)return f;const M=f.minX+f.width,L=f.minY+f.height,P=x.minX+x.width,U=x.minY+x.height,Y=Math.min(f.minX,x.minX),J=Math.min(f.minY,x.minY),D=Math.max(M,P),A=Math.max(L,U);return{minX:Y,minY:J,width:D-Y,height:A-J}},se=a.current.active&&a.current.kind==="room"&&a.current.bounds?re(a.current.bounds,Z):Z,fe=S?0:ee*N,Kt=se.width*N+fe*2,Ae=se.height*N+fe*2,Ee=wt.margin+fe-se.minX*N,ce=wt.margin+fe-se.minY*N,At=$.useCallback(f=>{const x=24/N,M=e.filter(q=>q.id!==f.id),L=[],P=Yr(f),U=f.x+P.left,Y=f.x+f.width-P.right;M.forEach(q=>{const ie=Yr(q),W=q.x+ie.left,te=q.x+q.width-ie.right;L.push({x:W-P.left,delta:U-W}),L.push({x:te-P.left,delta:U-te}),L.push({x:W-(f.width-P.right),delta:Y-W}),L.push({x:te-(f.width-P.right),delta:Y-te})});let J=f.x,D=x;L.forEach(q=>{const ie=Math.abs(q.delta);ie<=D&&(D=ie,J=q.x)});const A=[],H=f.y+P.top,B=f.y+f.height-P.bottom;M.forEach(q=>{const ie=Yr(q),W=q.y+ie.top,te=q.y+q.height-ie.bottom;A.push({y:W-P.top,delta:H-W}),A.push({y:te-P.top,delta:H-te}),A.push({y:W-(f.height-P.bottom),delta:B-W}),A.push({y:te-(f.height-P.bottom),delta:B-te})});let X=f.y,le=x;return A.forEach(q=>{const ie=Math.abs(q.delta);ie<=le&&(le=ie,X=q.y)}),{x:J,y:X}},[e,N]),gn=(f,x,M,L,P)=>{const U=H=>Math.max(0,Math.min(H,M/2,L/2)),Y=U((P==null?void 0:P.tl)??0),J=U((P==null?void 0:P.tr)??0),D=U((P==null?void 0:P.br)??0),A=U((P==null?void 0:P.bl)??0);return[`M ${f+Y} ${x}`,`L ${f+M-J} ${x}`,J>0?`A ${J} ${J} 0 0 1 ${f+M} ${x+J}`:`L ${f+M} ${x}`,`L ${f+M} ${x+L-D}`,D>0?`A ${D} ${D} 0 0 1 ${f+M-D} ${x+L}`:`L ${f+M} ${x+L}`,`L ${f+A} ${x+L}`,A>0?`A ${A} ${A} 0 0 1 ${f} ${x+L-A}`:`L ${f} ${x+L}`,`L ${f} ${x+Y}`,Y>0?`A ${Y} ${Y} 0 0 1 ${f+Y} ${x}`:`L ${f} ${x}`,"Z"].join(" ")},rn=(f,x,M)=>Math.max(0,Math.min(90,Number(f)||0))/90*(Math.min(x,M)/2),ln=(f,x,M)=>({tl:rn(f==null?void 0:f.tl,x,M),tr:rn(f==null?void 0:f.tr,x,M),br:rn(f==null?void 0:f.br,x,M),bl:rn(f==null?void 0:f.bl,x,M)}),b=(f,x,M)=>{if(!M)return f;const L=M*Math.PI/180,P=Math.cos(L),U=Math.sin(L),Y=f.x-x.x,J=f.y-x.y;return{x:x.x+Y*P-J*U,y:x.y+Y*U+J*P}},ct=(f,x)=>{if(!x)return f;const M=x*Math.PI/180,L=Math.cos(M),P=Math.sin(M);return{x:f.x*L-f.y*P,y:f.x*P+f.y*L}},An=(f,x)=>[{x:f/2,y:0},{x:0,y:x},{x:f,y:x}],$n=(f,x,M)=>{const L=(Number(M)||0)*Math.PI/180,P=Math.abs(Math.cos(L)),U=Math.abs(Math.sin(L));return{w:f*P+x*U,h:f*U+x*P}},$t=(f,x,M,L,P)=>{const U={x:f+M/2,y:x+L/2};return[b({x:f,y:x},U,P),b({x:f+M,y:x},U,P),b({x:f+M,y:x+L},U,P),b({x:f,y:x+L},U,P)]},yt=f=>{const x=Math.max(40,f.width??120),M=Math.max(40,f.height??120);return{w:x,h:M}},oe=f=>{const x=yt(f);return $n(x.w,x.h,f.rotation)},$e=(f,x)=>{const{w:M,h:L}=yt(x);return{x:x.x??f.width/2-M/2,y:x.y??f.height/2-L/2,w:M,h:L}},Xn=(f,x)=>{const M=yt(x),L=oe(x),P=(x.x??f.width/2-M.w/2)+M.w/2,U=(x.y??f.height/2-M.h/2)+M.h/2;return{x:P-L.w/2,y:U-L.h/2,w:L.w,h:L.h}},ir=f=>Array.isArray(f.trianglePoints)&&f.trianglePoints.length===3?f.trianglePoints:An(f.width??200,f.height??200),or=(f,x)=>{const M=ir(x),{w:L,h:P}=yt(x),U={x:((f==null?void 0:f.x)??0)+(x.x??0)+L/2,y:((f==null?void 0:f.y)??0)+(x.y??0)+P/2};return M.map(Y=>b({x:((f==null?void 0:f.x)??0)+(x.x??0)+Y.x,y:((f==null?void 0:f.y)??0)+(x.y??0)+Y.y},U,x.rotation??0))},Yr=f=>{const x=ln(f.radius,f.width,f.height);return{left:Math.min(x.tl||0,x.bl||0),right:Math.min(x.tr||0,x.br||0),top:Math.min(x.tl||0,x.tr||0),bottom:Math.min(x.bl||0,x.br||0)}},Ol=(f,x,M,L)=>{const{x:P,y:U,w:Y,h:J}=M;if(f<P||f>P+Y||x<U||x>U+J)return!1;const D=ln(L,Y,J);if(D.tl>0&&f<P+D.tl&&x<U+D.tl){const A=f-(P+D.tl),H=x-(U+D.tl);if(A*A+H*H>D.tl*D.tl)return!1}if(D.tr>0&&f>P+Y-D.tr&&x<U+D.tr){const A=f-(P+Y-D.tr),H=x-(U+D.tr);if(A*A+H*H>D.tr*D.tr)return!1}if(D.br>0&&f>P+Y-D.br&&x>U+J-D.br){const A=f-(P+Y-D.br),H=x-(U+J-D.br);if(A*A+H*H>D.br*D.br)return!1}if(D.bl>0&&f<P+D.bl&&x>U+J-D.bl){const A=f-(P+D.bl),H=x-(U+J-D.bl);if(A*A+H*H>D.bl*D.bl)return!1}return!0},it=$.useCallback(f=>{if(!a.current.active||!v.current)return;const x=v.current.getBoundingClientRect(),{id:M,kind:L,roomId:P,wall:U,resizeHandle:Y,resizeTarget:J,resizeBase:D,resizeRotation:A,resizeStart:H,vertexIndex:B,offsetX:X,offsetY:le}=a.current;if(!M)return;if(L==="vertex"){const W=e.find(Ge=>Ge.id===P);if(!W)return;const te=(W.fixtures??[]).find(Ge=>Ge.id===M);if(!te)return;const Te=Ee+(W.x-F.x)*N,pe=ce+(W.y-F.y)*N,gt=(f.clientX-x.left-Te)/N,me=(f.clientY-x.top-pe)/N,he=Math.max(0,Math.min(gt,W.width)),we=Math.max(0,Math.min(me,W.height)),{w:ye,h:Ce}=oe(te),We={x:te.x+ye/2,y:te.y+Ce/2},vt=b({x:he,y:we},We,-(te.rotation??0)),qe=ir(te).map(Ge=>({x:Ge.x,y:Ge.y}));B!=null&&(qe[B]={x:vt.x-te.x,y:vt.y-te.y});const ge=qe.map(Ge=>Ge.x),ae=qe.map(Ge=>Ge.y);let ve=Math.min(...ge),ke=Math.min(...ae),Me=Math.max(...ge),dt=Math.max(...ae);const Be=40;Me-ve<Be&&(Me=ve+Be),dt-ke<Be&&(dt=ke+Be);const Ve=te.x+ve,Qe=te.y+ke,xt=qe.map(Ge=>({x:Ge.x-ve,y:Ge.y-ke}));y({type:"UPDATE_FIXTURE",payload:{roomId:P,fixtureId:M,updates:{x:Ve,y:Qe,width:Me-ve,height:dt-ke,trianglePoints:xt}}});return}if(L==="resize"&&D&&Y&&J){const W=(f.clientX-H.x)/N,te=(f.clientY-H.y)/N,Te=A??0,pe=J!=="room"&&Te?ct({x:W,y:te},-Te):{x:W,y:te},gt=J!=="room"&&Te?ct(pe,Te):pe;let me=D.x,he=D.y,we=D.w,ye=D.h;const Ce=80,We=Y.includes("w"),vt=Y.includes("e"),qe=Y.includes("n"),ge=Y.includes("s");if(vt&&(we=D.w+pe.x),We&&(we=D.w-pe.x,me=D.x+gt.x),ge&&(ye=D.h+pe.y),qe&&(ye=D.h-pe.y,he=D.y+gt.y),f.shiftKey){const ae=D.w/D.h||1;(We||vt)&&(qe||ge)?Math.abs(pe.x)>Math.abs(pe.y)?(ye=we/ae,qe&&(he=D.y+(D.h-ye))):(we=ye*ae,We&&(me=D.x+(D.w-we))):We||vt?(ye=we/ae,he=D.y+(D.h-ye)/2):(qe||ge)&&(we=ye*ae,me=D.x+(D.w-we)/2)}if(we<Ce&&(we=Ce,We&&(me=D.x+(D.w-Ce))),ye<Ce&&(ye=Ce,qe&&(he=D.y+(D.h-Ce))),J==="room"){y({type:"UPDATE_ROOM",payload:{id:M,updates:{x:me,y:he,width:we,height:ye}}});return}if(J==="furniture"){const ae=e.find(Me=>Me.id===P),ve=ae?me-ae.x:me,ke=ae?he-ae.y:he;y({type:"UPDATE_FURNITURE",payload:{id:M,updates:{x:ve,y:ke,width:we,height:ye}}});return}if(J==="fixture"){const ae=e.find(ur=>ur.id===P);if(!ae)return;const ve=ae.x,ke=ae.y,Me=ae.x+ae.width,dt=ae.y+ae.height;let Be=me,Ve=he,Qe=we,xt=ye;Be<ve&&(Qe-=ve-Be,Be=ve),Ve<ke&&(xt-=ke-Ve,Ve=ke),Be+Qe>Me&&(Qe=Me-Be),Ve+xt>dt&&(xt=dt-Ve),Qe=Math.max(Ce,Qe),xt=Math.max(Ce,xt),Be+Qe>Me&&(Be=Math.max(ve,Me-Qe)),Ve+xt>dt&&(Ve=Math.max(ke,dt-xt));const Ge=Be-ae.x,on=Ve-ae.y;y({type:"UPDATE_FIXTURE",payload:{roomId:P,fixtureId:M,updates:{x:Ge,y:on,width:Qe,height:xt}}});return}}if(L==="room"){if(i==="room")return;const W=e.find(ye=>ye.id===M);if(!W)return;const te=(f.clientX-x.left-Ee-X)/N+F.x,Te=(f.clientY-x.top-ce-le)/N+F.y,pe=At({...W,x:te,y:Te}),gt=a.current.lastRoomPos??{x:pe.x,y:pe.y},me=pe.x-gt.x,he=pe.y-gt.y;a.current.lastRoomPos={x:pe.x,y:pe.y},y({type:"MOVE_ROOM",payload:{id:M,x:pe.x,y:pe.y}});const we=d.current;if(we&&!S){const ye=Ee+(pe.x-F.x)*N,Ce=ce+(pe.y-F.y)*N,We=W.width*N,vt=W.height*N,qe=we.scrollLeft,ge=we.scrollTop,ae=qe+we.clientWidth,ve=ge+we.clientHeight,ke=ye,Me=Ce,dt=ye+We,Be=Ce+vt;let Ve=0,Qe=0;if(me<0&&ke<qe?Ve=ke-qe:me>0&&dt>ae&&(Ve=dt-ae),he<0&&Me<ge?Qe=Me-ge:he>0&&Be>ve&&(Qe=Be-ve),(Ve!==0||Qe!==0)&&(R.current.dx=Ve,R.current.dy=Qe,!R.current.rafId)){const xt=()=>{const ur=R.current.dx,Fl=R.current.dy,ar=Math.max(-12,Math.min(12,ur*.18)),cr=Math.max(-12,Math.min(12,Fl*.18));if(we.scrollLeft+=ar,we.scrollTop+=cr,R.current.dx=ur-ar,R.current.dy=Fl-cr,Math.abs(R.current.dx)<.5&&Math.abs(R.current.dy)<.5){R.current.dx=0,R.current.dy=0,R.current.rafId=null;return}R.current.rafId=window.requestAnimationFrame(xt)};R.current.rafId=window.requestAnimationFrame(xt)}}return}if(L==="fixture"){const W=e.find(Se=>Se.id===P);if(!W)return;const te=(W.fixtures??[]).find(Se=>Se.id===M);if(!te)return;const Te=Ee+(W.x-F.x)*N,pe=ce+(W.y-F.y)*N,gt=(f.clientX-x.left-Te)/N,me=(f.clientY-x.top-pe)/N,he=yt(te),we=oe(te),ye=we.w,Ce=we.h;let We=gt-X/N,vt=me-le/N;We=Math.max(0,Math.min(We,W.width-ye)),vt=Math.max(0,Math.min(vt,W.height-Ce));const qe=60;let ge=null,ae=te.rotation,ve=We+ye/2-he.w/2,ke=vt+Ce/2-he.h/2,Me=$t(ve,ke,he.w,he.h,ae),dt=Math.min(...Me.map(Se=>Se.x)),Be=Math.max(...Me.map(Se=>Se.x)),Ve=Math.min(...Me.map(Se=>Se.y)),Qe=Math.max(...Me.map(Se=>Se.y));const Ge=[{side:"left",dist:dt},{side:"right",dist:W.width-Be},{side:"top",dist:Ve},{side:"bottom",dist:W.height-Qe}].reduce((Se,Ul)=>Ul.dist<Se.dist?Ul:Se);if(Ge.dist<=qe&&(ge=Ge.side,ge==="left"?ve-=dt:ge==="right"?ve+=W.width-Be:ge==="top"?ke-=Ve:ge==="bottom"&&(ke+=W.height-Qe)),Me=$t(ve,ke,he.w,he.h,ae),dt=Math.min(...Me.map(Se=>Se.x)),Be=Math.max(...Me.map(Se=>Se.x)),Ve=Math.min(...Me.map(Se=>Se.y)),Qe=Math.max(...Me.map(Se=>Se.y)),te.type!=="pillar"&&ge&&(ae=ge==="left"||ge==="right"?90:0),ge==="left"||ge==="right"||ge==="top"||ge==="bottom"){const Se=$t(ve,ke,he.w,he.h,ae),Ul=Math.min(...Se.map(Bn=>Bn.x)),gf=Math.max(...Se.map(Bn=>Bn.x)),vf=Math.min(...Se.map(Bn=>Bn.y)),xf=Math.max(...Se.map(Bn=>Bn.y));ge==="left"?ve+=0-Ul:ge==="right"?ve+=W.width-gf:ge==="top"?ke+=0-vf:ge==="bottom"&&(ke+=W.height-xf)}const on=$n(he.w,he.h,ae),ur=ve+he.w/2,Fl=ke+he.h/2;let ar=ur-on.w/2,cr=Fl-on.h/2;ar=Math.max(0,Math.min(ar,W.width-on.w)),cr=Math.max(0,Math.min(cr,W.height-on.h)),ve=ar+on.w/2-he.w/2,ke=cr+on.h/2-he.h/2,y({type:"UPDATE_FIXTURE",payload:{roomId:P,fixtureId:M,updates:{x:ve,y:ke,rotation:ae}}});return}const q=t.find(W=>W.id===M);if(!q)return;const ie=e.find(W=>W.id===q.roomId);if(ie){const W=(f.clientX-x.left-Ee-X)/N+F.x,te=(f.clientY-x.top-ce-le)/N+F.y,Te=W-ie.x,pe=te-ie.y;y({type:"MOVE_FURNITURE",payload:{id:M,x:Te,y:pe,absX:W,absY:te}})}else{const W=(f.clientX-x.left-Ee-X)/N+F.x,te=(f.clientY-x.top-ce-le)/N+F.y;y({type:"MOVE_FURNITURE",payload:{id:M,x:W,y:te,absX:W,absY:te}})}},[y,t,e,N,Ee,ce,F.x,F.y]),sr=$.useCallback(()=>{a.current={active:!1,kind:null,id:null,roomId:null,wall:null,resizeHandle:null,resizeTarget:null,resizeBase:null,resizeRotation:null,resizeStart:null,vertexIndex:null,offsetX:0,offsetY:0,scale:null,bounds:null,lastRoomPos:null},R.current.rafId&&(window.cancelAnimationFrame(R.current.rafId),R.current.rafId=null),R.current.dx=0,R.current.dy=0,C(!1);const{onMouseMove:f,onMouseUp:x}=_.current;f&&window.removeEventListener("pointermove",f),x&&window.removeEventListener("pointerup",x),x&&window.removeEventListener("pointercancel",x)},[]),I=$.useCallback(()=>{y({type:"END_DRAG"}),sr()},[y,sr]),Q=(f,x)=>{f.stopPropagation(),f.preventDefault();const M=t.find(J=>J.id===x);if(!M||!v.current)return;const L=e.find(J=>J.id===M.roomId);L?(y({type:"BEGIN_DRAG"}),L.id!==l&&y({type:"SET_ACTIVE_ROOM",payload:L.id})):y({type:"BEGIN_DRAG"}),y({type:"SELECT_FURNITURE",payload:x}),_.current={onMouseMove:it,onMouseUp:I};const P=v.current.getBoundingClientRect(),U=L?L.x+M.x:M.x,Y=L?L.y+M.y:M.y;a.current={active:!0,kind:"furniture",id:x,roomId:null,wall:null,offsetX:f.clientX-P.left-(Ee+(U-F.x)*N),offsetY:f.clientY-P.top-(ce+(Y-F.y)*N)},window.addEventListener("pointermove",it),window.addEventListener("pointerup",I),window.addEventListener("pointercancel",I)},Ne=(f,x)=>{if(f.stopPropagation(),f.preventDefault(),x.id!==l&&y({type:"SET_ACTIVE_ROOM",payload:x.id}),e.length<=1||i==="room"||!v.current)return;y({type:"BEGIN_DRAG"});const M=v.current.getBoundingClientRect(),L=Pt;a.current={active:!0,kind:"room",id:x.id,roomId:null,wall:null,offsetX:f.clientX-M.left-(Ee+(x.x-F.x)*N),offsetY:f.clientY-M.top-(ce+(x.y-F.y)*N),scale:L,bounds:se,lastRoomPos:{x:x.x,y:x.y}},C(!0),window.addEventListener("pointermove",it),window.addEventListener("pointerup",I),window.addEventListener("pointercancel",I)};$.useEffect(()=>{_.current={onMouseMove:it,onMouseUp:I}},[it,I]),$.useEffect(()=>{if(!d.current)return;const f=new ResizeObserver(x=>{const M=x[0];if(!M)return;const{width:L,height:P}=M.contentRect;g({width:Math.max(1,L),height:Math.max(1,P)})});return f.observe(d.current),()=>f.disconnect()},[]),$.useEffect(()=>()=>{sr()},[sr]),$.useEffect(()=>{const f=d.current;f&&(a.current.active||S||(f.scrollLeft=fe,f.scrollTop=fe))},[fe,se.minX,se.minY,se.width,se.height,S]);const Xe=ne.flatMap(f=>{const x=[],M=Ee+(f.x-F.x)*N,L=ce+(f.y-F.y)*N,P=f.width*N,U=f.height*N,Y=`room-grid-clip-${f.id}`,J=ln(f.radius,P,U);for(let D=0;D<=f.width;D+=h){const A=M+D*N;x.push(u.jsx("line",{x1:A,y1:L,x2:A,y2:L+U,stroke:"#ddd",pointerEvents:"none"},`grid-x-${f.id}-${D}`))}for(let D=0;D<=f.height;D+=h){const A=L+D*N;x.push(u.jsx("line",{x1:M,y1:A,x2:M+P,y2:A,stroke:"#ddd",pointerEvents:"none"},`grid-y-${f.id}-${D}`))}return[u.jsx("clipPath",{id:Y,children:u.jsx("path",{d:gn(M,L,P,U,J)})},`${Y}-def`),u.jsx("g",{clipPath:`url(#${Y})`,children:x},`${Y}-lines`)]});return u.jsxs("div",{className:`canvas-wrap${T?" canvas-wrap--drag":""}`,ref:d,children:[u.jsx("div",{className:"canvas-toolbar",children:u.jsx("button",{className:"btn btn--ghost btn--small",type:"button",onClick:c,disabled:i==="all"&&!s,children:i==="all"?"":""})}),u.jsxs("svg",{ref:v,width:Kt+wt.margin*2,height:Ae+wt.margin*2,children:[Xe,ne.map(f=>{const x=Ee+(f.x-F.x)*N,M=ce+(f.y-F.y)*N,L=f.width*N,P=f.height*N,U=f.id===l,Y=Math.min(L,P),J=Math.min(20,Math.max(8,Y*.08)),D=Math.min(30,Math.max(8,Y*.07)),A=Math.max(6,J*.7),H=Math.max(10,D*.7),B=(f.fixtures??[]).map(X=>{const le=$e(f,X),q=x+le.x*N,ie=M+le.y*N,W=le.w*N,te=le.h*N,Te=X.id===r?"#ef4444":X.type==="pillar"?"#333":"#1f2933",pe=X.id===r?"2.5":X.type==="pillar"?"2":"1",gt=ye=>{var ve;ye.stopPropagation(),ye.preventDefault(),y({type:"BEGIN_DRAG"});const Ce=(ve=v.current)==null?void 0:ve.getBoundingClientRect(),We=Xn(f,X),vt=x+We.x*N,qe=M+We.y*N,ge=Ce?ye.clientX-(vt+Ce.left):0,ae=Ce?ye.clientY-(qe+Ce.top):0;a.current={active:!0,kind:"fixture",id:X.id,roomId:f.id,wall:X.wall,offsetX:ge,offsetY:ae,scale:null,bounds:null,lastRoomPos:null},y({type:"SELECT_FIXTURE",payload:X.id}),_.current={onMouseMove:it,onMouseUp:I},window.addEventListener("pointermove",it),window.addEventListener("pointerup",I),window.addEventListener("pointercancel",I)};if(X.type==="pillar"&&X.shape==="triangle"){const Ce=or(f,X).map(We=>`${Ee+(We.x-F.x)*N},${ce+(We.y-F.y)*N}`).join(" ");return u.jsx("polygon",{points:Ce,fill:O[X.type]??"#475569",opacity:"0.85",stroke:Te,strokeWidth:pe,onPointerDown:gt},X.id)}const me=q+W/2,he=ie+te/2,we=X.rotation?`rotate(${X.rotation} ${me} ${he})`:void 0;return u.jsx("rect",{x:q,y:ie,width:W,height:te,fill:O[X.type]??"#475569",opacity:"0.85",stroke:Te,strokeWidth:pe,transform:we,onPointerDown:gt},X.id)});return u.jsxs("g",{children:[u.jsx("rect",{x,y:M,width:L,height:P,fill:"transparent",onPointerDown:X=>Ne(X,f)}),u.jsx("path",{d:gn(x,M,L,P,ln(f.radius,L,P)),fill:"none",stroke:U?"#ef4444":"#333",strokeWidth:U?"3":"2",pointerEvents:"none"}),B,u.jsx("text",{x:x+8,y:M-A,fontSize:J,pointerEvents:"none",children:f.name}),u.jsx("text",{x:x+L/2,y:M-A,textAnchor:"middle",fontSize:D,pointerEvents:"none",children:m(f.width)}),u.jsx("text",{x:x-H,y:M+P/2,transform:`rotate(-90 ${x-H} ${M+P/2})`,textAnchor:"middle",fontSize:D,pointerEvents:"none",children:m(f.height)})]},f.id)}),(()=>{var H;const f=(B,X,le,q)=>[{key:"nw",x:B-4,y:X-4,cursor:"nwse-resize"},{key:"n",x:B+le/2-4,y:X-4,cursor:"ns-resize"},{key:"ne",x:B+le-4,y:X-4,cursor:"nesw-resize"},{key:"e",x:B+le-4,y:X+q/2-4,cursor:"ew-resize"},{key:"se",x:B+le-4,y:X+q-4,cursor:"nwse-resize"},{key:"s",x:B+le/2-4,y:X+q-4,cursor:"ns-resize"},{key:"sw",x:B-4,y:X+q-4,cursor:"nesw-resize"},{key:"w",x:B-4,y:X+q/2-4,cursor:"ew-resize"}],x=(B,X,le,q,ie)=>{if(!ie)return f(B,X,le,q);const W={x:B+le/2,y:X+q/2};return f(B,X,le,q).map(te=>{const Te=b({x:te.x+4,y:te.y+4},W,ie);return{...te,x:Te.x-4,y:Te.y-4}})},M=e.find(B=>B.id===l),L=t.find(B=>B.id===n),P=e.find(B=>(B.fixtures??[]).some(X=>X.id===r)),U=(H=P==null?void 0:P.fixtures)==null?void 0:H.find(B=>B.id===r);let Y=null,J=null,D=null;if(U&&P){const B=$e(P,U);Y={x:P.x+B.x,y:P.y+B.y,w:B.w,h:B.h},J="fixture",D={id:U.id,roomId:P.id,rotation:U.rotation??0}}else if(L){Nr(L);const B=e.find(q=>q.id===L.roomId),X=B?B.x+L.x:L.x,le=B?B.y+L.y:L.y;Y={x:X,y:le,w:L.width,h:L.height},J="furniture",D={id:L.id,roomId:(B==null?void 0:B.id)??null,rotation:L.rotation??0}}else M&&(Y={x:M.x,y:M.y,w:M.width,h:M.height},J="room",D={id:M.id});return U&&U.type==="pillar"&&U.shape==="triangle"?or(P,U).map((X,le)=>{const q=Ee+(X.x-F.x)*N,ie=ce+(X.y-F.y)*N;return u.jsx("circle",{cx:q,cy:ie,r:5,fill:"#fff",stroke:"#1f2933",strokeWidth:"1",style:{cursor:"move"},onPointerDown:W=>{W.stopPropagation(),W.preventDefault(),y({type:"BEGIN_DRAG"}),a.current={active:!0,kind:"vertex",id:D.id,roomId:D.roomId??null,wall:null,resizeHandle:null,resizeTarget:null,resizeBase:null,resizeRotation:null,resizeStart:null,vertexIndex:le,offsetX:0,offsetY:0,scale:null,bounds:null,lastRoomPos:null},_.current={onMouseMove:it,onMouseUp:I},window.addEventListener("pointermove",it),window.addEventListener("pointerup",I),window.addEventListener("pointercancel",I)}},`vertex-${le}`)}):(Y&&J&&J!=="room"?x(Ee+(Y.x-F.x)*N,ce+(Y.y-F.y)*N,Y.w*N,Y.h*N,D.rotation??0):[]).map(B=>u.jsx("rect",{x:B.x,y:B.y,width:8,height:8,fill:"#fff",stroke:"#1f2933",strokeWidth:"1",style:{cursor:B.cursor},onPointerDown:X=>{X.stopPropagation(),X.preventDefault(),y({type:"BEGIN_DRAG"}),a.current={active:!0,kind:"resize",id:D.id,roomId:D.roomId??null,wall:null,resizeHandle:B.key,resizeTarget:J,resizeBase:Y,resizeRotation:D.rotation??0,resizeStart:{x:X.clientX,y:X.clientY},offsetX:0,offsetY:0,scale:null,bounds:null,lastRoomPos:null,vertexIndex:null},_.current={onMouseMove:it,onMouseUp:I},window.addEventListener("pointermove",it),window.addEventListener("pointerup",I),window.addEventListener("pointercancel",I)}},`${J}-${B.key}`))})(),u.jsxs("text",{x:wt.margin,y:wt.margin+Ae+25,fontSize:Math.min(64,Math.max(12,28*N)),onDoubleClick:K,children:["Grid: ",m(h)]}),t.filter(f=>i==="room"&&o?f.roomId===o:!0).map(f=>{Nr(f);const x=e.find(me=>me.id===f.roomId),M=x?x.x+f.x:f.x,L=x?x.y+f.y:f.y,P=M+f.width/2,U=L+f.height/2,Y=Number(f.rotation)||0,J=x?![{x:M,y:L},{x:M+f.width,y:L},{x:M,y:L+f.height},{x:M+f.width,y:L+f.height}].map(me=>b(me,{x:P,y:U},Y)).map(me=>({x:me.x-x.x,y:me.y-x.y})).every(me=>Ol(me.x,me.y,{x:0,y:0,w:x.width,h:x.height},x.radius)):!0,D=Ee+(M-F.x)*N,A=ce+(L-F.y)*N,H=f.width*N,B=f.height*N,X=Math.min(H,B),le=Math.min(64,Math.max(6,X*.16)),q=Math.min(58,Math.max(6,X*.13)),ie=D+H/2,W=A+B/2,te=f.rotation?`rotate(${f.rotation} ${ie} ${W})`:void 0,Te=((Number(f.rotation)||0)%360+360)%360,pe=Te===90||Te===270?f.height:f.width,gt=Te===90||Te===270?f.width:f.height;return u.jsxs("g",{onPointerDown:me=>Q(me,f.id),children:[u.jsx("path",{d:gn(D,A,H,B,ln(f.radius,H,B)),fill:J?"#f87171":f.color,stroke:f.id===n?"red":"#333",strokeWidth:"2",transform:te}),u.jsx("text",{x:ie,y:W-q*.4,textAnchor:"middle",fontSize:le,children:f.name}),u.jsxs("text",{x:ie,y:W+q*.8,textAnchor:"middle",fontSize:q,children:[m(pe),"  ",m(gt)]})]},f.id)})]})]})}function um({state:e,selectedFixtureId:t,openRooms:n,setOpenRooms:r,selectedRoomId:l,selectedFurniture:i,templates:o=[],selectedTemplateId:s,setSelectedTemplateId:c,selectionSource:h,setSelectionSource:S,editing:y,startEditing:k,commitEditing:p,cancelEditing:w,setEditing:E,setViewMode:O,setMobileTab:m,isMobile:d,dispatch:v}){var g;const T=((g=e.rooms.find(a=>(a.fixtures??[]).some(R=>R.id===t)))==null?void 0:g.id)??null,C=e.activeRoomId??(i==null?void 0:i.roomId)??T,j=a=>{switch(a){case"door":return"";case"window":return"";case"lan":return"LAN";case"pillar":return"";default:return""}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"panel__section panel__section--actions",children:[u.jsx("button",{className:"btn btn--ghost",type:"button",onClick:()=>{S("list"),O("all"),d&&m("editor"),v({type:"ADD_ROOM"})},children:""}),u.jsxs("div",{className:"furniture-add-row",children:[u.jsxs("label",{children:["",u.jsxs("select",{value:s,onChange:a=>c(a.target.value),disabled:o.length===0,children:[u.jsx("option",{value:"",children:""}),o.map(a=>u.jsx("option",{value:a.id,children:a.name},a.id))]})]}),u.jsx("button",{className:"btn",type:"button",disabled:!C,onClick:()=>{S("list"),d&&m("editor"),v({type:"ADD_FURNITURE",payload:s?{templateId:s,roomId:C}:{roomId:C}})},children:""})]}),u.jsxs("div",{className:"fixture-add-row",children:[u.jsx("div",{className:"fixture-add-row__label",children:""}),u.jsxs("div",{className:"fixture-add-row__buttons",children:[u.jsx("button",{className:"btn btn--ghost btn--small",type:"button",disabled:!C,onClick:()=>{const a=e.rooms.find(_=>_.id===C),R=700;v({type:"ADD_FIXTURE",payload:{roomId:C,fixture:{type:"door",width:R,height:200,x:a?a.width/2-R/2:0,y:a?a.height/2-100:0}}})},children:""}),u.jsx("button",{className:"btn btn--ghost btn--small",type:"button",disabled:!C,onClick:()=>{const a=e.rooms.find(_=>_.id===C),R=1400;v({type:"ADD_FIXTURE",payload:{roomId:C,fixture:{type:"window",width:R,height:160,x:a?a.width/2-R/2:0,y:a?a.height/2-80:0}}})},children:""}),u.jsx("button",{className:"btn btn--ghost btn--small",type:"button",disabled:!C,onClick:()=>{const a=e.rooms.find(_=>_.id===C),R=120;v({type:"ADD_FIXTURE",payload:{roomId:C,fixture:{type:"outlet",width:R,height:80,x:a?a.width/2-R/2:0,y:a?a.height/2-40:0}}})},children:""}),u.jsx("button",{className:"btn btn--ghost btn--small",type:"button",disabled:!C,onClick:()=>{const a=e.rooms.find(_=>_.id===C),R=120;v({type:"ADD_FIXTURE",payload:{roomId:C,fixture:{type:"lan",width:R,height:80,x:a?a.width/2-R/2:0,y:a?a.height/2-40:0}}})},children:"LAN"}),u.jsx("button",{className:"btn btn--ghost btn--small",type:"button",disabled:!C,onClick:()=>{const a=e.rooms.find(_=>_.id===C),R=320;v({type:"ADD_FIXTURE",payload:{roomId:C,fixture:{type:"pillar",width:R,height:R,x:a?a.width/2-R/2:0,y:a?a.height/2-R/2:0}}})},children:""})]})]})]}),u.jsxs("div",{className:"panel__section panel__section--list",children:[u.jsx("h2",{children:" / "}),u.jsxs("ul",{className:"object-list",children:[e.rooms.map(a=>{const R=e.furnitures.filter(Z=>Z.roomId===a.id),_=a.fixtures??[],K=!!n[a.id],ne=y.type==="room"&&y.id===a.id;return u.jsx("li",{className:"object-list__item",children:u.jsxs("details",{className:"object-list__group",open:K,onToggle:Z=>{var Fe;const F=((Fe=Z.currentTarget)==null?void 0:Fe.open)??!1;r(Je=>({...Je,[a.id]:F}))},children:[u.jsxs("summary",{className:`object-list__summary${e.activeRoomId===a.id?" is-selected":""}`,onClick:()=>{S("list"),v({type:"SET_ACTIVE_ROOM",payload:a.id})},onDoubleClick:Z=>{Z.preventDefault(),Z.stopPropagation(),S("list"),k("room",a.id,a.name)},children:[u.jsx("span",{className:"object-list__toggle","aria-hidden":"true"}),ne?u.jsx("input",{className:"inline-input",value:y.value,autoFocus:!0,onChange:Z=>E(F=>({...F,value:Z.target.value})),onBlur:p,onKeyDown:Z=>{Z.key==="Enter"&&p(),Z.key==="Escape"&&w()}}):a.name]}),u.jsxs("ul",{className:"object-list__children",children:[R.map(Z=>u.jsx("li",{className:"object-list__child",children:y.type==="furniture"&&y.id===Z.id?u.jsx("input",{className:"inline-input inline-input--child",value:y.value,autoFocus:!0,onChange:F=>E(Fe=>({...Fe,value:F.target.value})),onBlur:p,onKeyDown:F=>{F.key==="Enter"&&p(),F.key==="Escape"&&w()}}):u.jsx("button",{type:"button",className:`object-list__button object-list__button--child${e.selectedId===Z.id?" is-selected":""}`,onClick:()=>{S("list"),v({type:"SELECT_FURNITURE",payload:Z.id})},onDoubleClick:F=>{F.preventDefault(),F.stopPropagation(),S("list"),k("furniture",Z.id,Z.name)},children:Z.name})},Z.id)),R.length===0&&u.jsx("li",{className:"object-list__empty",children:""})]}),u.jsxs("div",{className:"fixture-list",children:[u.jsx("div",{className:"fixture-list__title",children:""}),_.length===0&&u.jsx("div",{className:"object-list__empty",children:""}),_.length>0&&u.jsx("ul",{className:"fixture-list__items",children:(()=>{const Z={door:0,window:0,outlet:0,lan:0,pillar:0};return _.map(F=>{Z[F.type]=(Z[F.type]??0)+1;const Fe=Z[F.type];return u.jsx("li",{className:"fixture-list__item",children:u.jsxs("button",{type:"button",className:"fixture-list__button",onClick:()=>{S("list"),v({type:"SELECT_FIXTURE",payload:F.id})},children:[j(F.type)," ",Fe]})},F.id)})})()})]})]})},a.id)}),e.furnitures.some(a=>!a.roomId)&&u.jsx("li",{className:"object-list__item",children:u.jsxs("details",{className:"object-list__group",open:!!n.unassigned,onToggle:a=>{var _;const R=((_=a.currentTarget)==null?void 0:_.open)??!1;r(K=>({...K,unassigned:R}))},children:[u.jsxs("summary",{className:`object-list__summary${l==="unassigned"?" is-selected":""}`,children:[u.jsx("span",{className:"object-list__toggle","aria-hidden":"true"}),""]}),u.jsx("ul",{className:"object-list__children",children:e.furnitures.filter(a=>!a.roomId).map(a=>u.jsx("li",{className:"object-list__child",children:y.type==="furniture"&&y.id===a.id?u.jsx("input",{className:"inline-input inline-input--child",value:y.value,autoFocus:!0,onChange:R=>E(_=>({..._,value:R.target.value})),onBlur:p,onKeyDown:R=>{R.key==="Enter"&&p(),R.key==="Escape"&&w()}}):u.jsx("button",{type:"button",className:`object-list__button object-list__button--child${e.selectedId===a.id?" is-selected":""}`,onClick:()=>{S("list"),v({type:"SELECT_FURNITURE",payload:a.id})},onDoubleClick:R=>{R.preventDefault(),R.stopPropagation(),S("list"),k("furniture",a.id,a.name)},children:a.name})},a.id))})]})})]})]})]})}const ni=e=>e/1e3,ri=e=>Number(e)*1e3;function am({room:e,roomsCount:t,isMobile:n,dispatch:r}){var d,v,T,C,j,g,a,R;const[l,i]=$.useState(!n),[o,s]=$.useState(!n),[c,h]=$.useState(!n),[S,y]=$.useState(""),[k,p]=$.useState(""),[w,E]=$.useState(""),[O,m]=$.useState("");return $.useEffect(()=>{i(!n),s(!n),h(!n)},[n]),$.useEffect(()=>{e&&(y(String(ni(e.width))),p(String(ni(e.height))),E(String(ni(e.x))),m(String(ni(e.y))))},[e]),e?u.jsxs("div",{className:"panel__section",children:[u.jsx("h2",{children:""}),u.jsx("div",{className:"form-grid editor-group editor-group--open",children:u.jsxs("label",{children:["",u.jsx("input",{value:e.name,onChange:_=>r({type:"UPDATE_ROOM",payload:{id:e.id,updates:{name:_.target.value}}})})]})}),u.jsxs("details",{className:"editor-group",open:l,onToggle:_=>i(_.currentTarget.open),children:[u.jsx("summary",{children:""}),u.jsxs("div",{className:"form-grid",children:[u.jsxs("label",{children:["(m)",u.jsx("input",{type:"number",step:"0.01",value:S,onChange:_=>{const K=_.target.value;y(K),K!==""&&r({type:"UPDATE_ROOM",payload:{id:e.id,updates:{width:ri(K)}}})},onBlur:_=>{_.target.value===""&&(r({type:"UPDATE_ROOM",payload:{id:e.id,updates:{width:0}}}),y("0"))}})]}),u.jsxs("label",{children:["(m)",u.jsx("input",{type:"number",step:"0.01",value:k,onChange:_=>{const K=_.target.value;p(K),K!==""&&r({type:"UPDATE_ROOM",payload:{id:e.id,updates:{height:ri(K)}}})},onBlur:_=>{_.target.value===""&&(r({type:"UPDATE_ROOM",payload:{id:e.id,updates:{height:0}}}),p("0"))}})]})]})]}),u.jsxs("details",{className:"editor-group",open:o,onToggle:_=>s(_.currentTarget.open),children:[u.jsx("summary",{children:""}),u.jsxs("div",{className:"form-grid",children:[u.jsxs("label",{children:["X(m)",u.jsx("input",{type:"number",step:"0.01",value:w,onChange:_=>{const K=_.target.value;E(K),K!==""&&r({type:"UPDATE_ROOM",payload:{id:e.id,updates:{x:ri(K)}}})},onBlur:_=>{_.target.value===""&&(r({type:"UPDATE_ROOM",payload:{id:e.id,updates:{x:0}}}),E("0"))}})]}),u.jsxs("label",{children:["Y(m)",u.jsx("input",{type:"number",step:"0.01",value:O,onChange:_=>{const K=_.target.value;m(K),K!==""&&r({type:"UPDATE_ROOM",payload:{id:e.id,updates:{y:ri(K)}}})},onBlur:_=>{_.target.value===""&&(r({type:"UPDATE_ROOM",payload:{id:e.id,updates:{y:0}}}),m("0"))}})]})]})]}),u.jsxs("details",{className:"editor-group",open:c,onToggle:_=>h(_.currentTarget.open),children:[u.jsx("summary",{children:""}),u.jsxs("div",{className:"form-grid",children:[u.jsxs("label",{children:["()",u.jsxs("div",{className:"range-field",children:[u.jsx("input",{type:"range",min:"0",max:"90",step:"1",value:((d=e.radius)==null?void 0:d.tl)??0,onChange:_=>r({type:"UPDATE_ROOM",payload:{id:e.id,updates:{radius:{...e.radius,tl:_.target.value}}}})}),u.jsxs("span",{children:[((v=e.radius)==null?void 0:v.tl)??0,""]})]})]}),u.jsxs("label",{children:["()",u.jsxs("div",{className:"range-field",children:[u.jsx("input",{type:"range",min:"0",max:"90",step:"1",value:((T=e.radius)==null?void 0:T.tr)??0,onChange:_=>r({type:"UPDATE_ROOM",payload:{id:e.id,updates:{radius:{...e.radius,tr:_.target.value}}}})}),u.jsxs("span",{children:[((C=e.radius)==null?void 0:C.tr)??0,""]})]})]}),u.jsxs("label",{children:["()",u.jsxs("div",{className:"range-field",children:[u.jsx("input",{type:"range",min:"0",max:"90",step:"1",value:((j=e.radius)==null?void 0:j.br)??0,onChange:_=>r({type:"UPDATE_ROOM",payload:{id:e.id,updates:{radius:{...e.radius,br:_.target.value}}}})}),u.jsxs("span",{children:[((g=e.radius)==null?void 0:g.br)??0,""]})]})]}),u.jsxs("label",{children:["()",u.jsxs("div",{className:"range-field",children:[u.jsx("input",{type:"range",min:"0",max:"90",step:"1",value:((a=e.radius)==null?void 0:a.bl)??0,onChange:_=>r({type:"UPDATE_ROOM",payload:{id:e.id,updates:{radius:{...e.radius,bl:_.target.value}}}})}),u.jsxs("span",{children:[((R=e.radius)==null?void 0:R.bl)??0,""]})]})]})]})]}),u.jsxs("div",{className:"editor-actions",children:[u.jsx("button",{className:"btn btn--ghost",type:"button",onClick:()=>r({type:"DUPLICATE_ROOM",payload:e.id}),children:""}),u.jsx("button",{className:"btn btn--ghost",type:"button",disabled:t<=1,onClick:()=>r({type:"DELETE_ROOM",payload:e.id}),children:""})]})]}):u.jsxs("div",{className:"panel__section",children:[u.jsx("h2",{children:""}),u.jsx("p",{className:"muted",children:""})]})}const Ba=e=>e/1e3,Ya=e=>Number(e)*1e3;function cm({furniture:e,isMobile:t,dispatch:n}){var O,m,d,v,T,C,j,g;const[r,l]=$.useState(!t),[i,o]=$.useState(!t),[s,c]=$.useState(""),[h,S]=$.useState(""),[y,k]=$.useState(""),p=$.useRef(!1),w=()=>{p.current||(p.current=!0,n({type:"BEGIN_DRAG"}))},E=()=>{p.current&&(p.current=!1,n({type:"END_DRAG"}))};return $.useEffect(()=>{l(!t),o(!t)},[t]),$.useEffect(()=>{e&&(c(String(Ba(e.width))),S(String(Ba(e.height))),k(String(e.rotation??0)))},[e]),$.useEffect(()=>{const a=()=>E();return window.addEventListener("pointerup",a),window.addEventListener("pointercancel",a),()=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",a)}},[]),e?u.jsxs("div",{className:"panel__section",children:[u.jsx("h2",{children:""}),u.jsxs("div",{className:"form-grid editor-group editor-group--open",children:[u.jsxs("label",{children:["",u.jsx("input",{value:e.name,onChange:a=>n({type:"UPDATE_FURNITURE",payload:{id:e.id,updates:{name:a.target.value}}})})]}),u.jsxs("label",{children:["",u.jsx("input",{type:"color",value:e.color,onFocus:w,onBlur:E,onChange:a=>n({type:"UPDATE_FURNITURE",payload:{id:e.id,updates:{color:a.target.value}}})})]}),u.jsxs("label",{className:"form-grid__full",children:["",u.jsx("textarea",{rows:3,value:e.memo??"",onChange:a=>n({type:"UPDATE_FURNITURE",payload:{id:e.id,updates:{memo:a.target.value}}})})]})]}),u.jsxs("details",{className:"editor-group",open:r,onToggle:a=>l(a.currentTarget.open),children:[u.jsx("summary",{children:""}),u.jsxs("div",{className:"form-grid",children:[u.jsxs("label",{children:[" (m)",u.jsx("input",{type:"number",step:"0.01",value:s,onFocus:w,onChange:a=>{const R=a.target.value;c(R),R!==""&&n({type:"UPDATE_FURNITURE",payload:{id:e.id,updates:{width:Ya(R)}}})},onBlur:a=>{a.target.value===""&&(n({type:"UPDATE_FURNITURE",payload:{id:e.id,updates:{width:0}}}),c("0")),E()}})]}),u.jsxs("label",{children:[" (m)",u.jsx("input",{type:"number",step:"0.01",value:h,onFocus:w,onChange:a=>{const R=a.target.value;S(R),R!==""&&n({type:"UPDATE_FURNITURE",payload:{id:e.id,updates:{height:Ya(R)}}})},onBlur:a=>{a.target.value===""&&(n({type:"UPDATE_FURNITURE",payload:{id:e.id,updates:{height:0}}}),S("0")),E()}})]}),u.jsxs("label",{children:[" ()",u.jsx("input",{type:"number",step:"1",value:y,onFocus:w,onBlur:E,onChange:a=>{const R=a.target.value;k(R),R!==""&&n({type:"UPDATE_FURNITURE",payload:{id:e.id,updates:{rotation:Number(R)}}})}})]})]})]}),u.jsxs("details",{className:"editor-group",open:i,onToggle:a=>o(a.currentTarget.open),children:[u.jsx("summary",{children:""}),u.jsxs("div",{className:"form-grid",children:[u.jsxs("label",{children:[" ()",u.jsxs("div",{className:"range-field",children:[u.jsx("input",{type:"range",min:"0",max:"90",step:"1",value:((O=e.radius)==null?void 0:O.tl)??0,onPointerDown:w,onPointerUp:E,onBlur:E,onChange:a=>n({type:"UPDATE_FURNITURE",payload:{id:e.id,updates:{radius:{...e.radius,tl:a.target.value}}}})}),u.jsxs("span",{children:[((m=e.radius)==null?void 0:m.tl)??0,""]})]})]}),u.jsxs("label",{children:[" ()",u.jsxs("div",{className:"range-field",children:[u.jsx("input",{type:"range",min:"0",max:"90",step:"1",value:((d=e.radius)==null?void 0:d.tr)??0,onPointerDown:w,onPointerUp:E,onBlur:E,onChange:a=>n({type:"UPDATE_FURNITURE",payload:{id:e.id,updates:{radius:{...e.radius,tr:a.target.value}}}})}),u.jsxs("span",{children:[((v=e.radius)==null?void 0:v.tr)??0,""]})]})]}),u.jsxs("label",{children:[" ()",u.jsxs("div",{className:"range-field",children:[u.jsx("input",{type:"range",min:"0",max:"90",step:"1",value:((T=e.radius)==null?void 0:T.br)??0,onPointerDown:w,onPointerUp:E,onBlur:E,onChange:a=>n({type:"UPDATE_FURNITURE",payload:{id:e.id,updates:{radius:{...e.radius,br:a.target.value}}}})}),u.jsxs("span",{children:[((C=e.radius)==null?void 0:C.br)??0,""]})]})]}),u.jsxs("label",{children:[" ()",u.jsxs("div",{className:"range-field",children:[u.jsx("input",{type:"range",min:"0",max:"90",step:"1",value:((j=e.radius)==null?void 0:j.bl)??0,onPointerDown:w,onPointerUp:E,onBlur:E,onChange:a=>n({type:"UPDATE_FURNITURE",payload:{id:e.id,updates:{radius:{...e.radius,bl:a.target.value}}}})}),u.jsxs("span",{children:[((g=e.radius)==null?void 0:g.bl)??0,""]})]})]})]})]}),u.jsx("div",{className:"editor-actions",children:u.jsx("button",{className:"btn btn--ghost",type:"button",onClick:()=>n({type:"DELETE_FURNITURE",payload:e.id}),children:""})})]}):u.jsxs("div",{className:"panel__section",children:[u.jsx("h2",{children:""}),u.jsx("p",{className:"muted",children:""})]})}const dm=e=>e?e.type==="door"?"":e.type==="window"?"":e.type==="lan"?"LAN":e.type==="pillar"?"":"":"";function fm({room:e,fixture:t,dispatch:n}){return!e||!t?null:u.jsxs("div",{className:"panel__section",children:[u.jsx("h2",{children:""}),u.jsxs("div",{className:"form-grid",children:[u.jsxs("div",{className:"fixture-type-label",children:[": ",dm(t)]}),t.type==="pillar"&&u.jsxs("label",{children:["",u.jsxs("select",{value:t.shape??"rect",onChange:r=>n({type:"UPDATE_FIXTURE",payload:{roomId:e.id,fixtureId:t.id,updates:{shape:r.target.value}}}),children:[u.jsx("option",{value:"rect",children:""}),u.jsx("option",{value:"triangle",children:""})]})]}),u.jsxs("label",{children:[" ()",u.jsx("input",{type:"number",step:"1",value:t.rotation??0,onChange:r=>n({type:"UPDATE_FIXTURE",payload:{roomId:e.id,fixtureId:t.id,updates:{rotation:Number(r.target.value)}}})})]}),u.jsxs("label",{children:[" (mm)",u.jsx("input",{type:"number",value:t.width,onChange:r=>n({type:"UPDATE_FIXTURE",payload:{roomId:e.id,fixtureId:t.id,updates:{width:r.target.value}}})})]}),u.jsxs("label",{children:[" (mm)",u.jsx("input",{type:"number",value:t.height,onChange:r=>n({type:"UPDATE_FIXTURE",payload:{roomId:e.id,fixtureId:t.id,updates:{height:r.target.value}}})})]}),u.jsxs("label",{children:["X (mm)",u.jsx("input",{type:"number",value:t.x,onChange:r=>n({type:"UPDATE_FIXTURE",payload:{roomId:e.id,fixtureId:t.id,updates:{x:r.target.value}}})})]}),u.jsxs("label",{children:["Y (mm)",u.jsx("input",{type:"number",value:t.y,onChange:r=>n({type:"UPDATE_FIXTURE",payload:{roomId:e.id,fixtureId:t.id,updates:{y:r.target.value}}})})]}),u.jsxs("label",{className:"form-grid__full",children:["",u.jsx("textarea",{rows:3,value:t.memo??"",onChange:r=>n({type:"UPDATE_FIXTURE",payload:{roomId:e.id,fixtureId:t.id,updates:{memo:r.target.value}}})})]})]}),u.jsx("div",{className:"editor-actions",children:u.jsx("button",{className:"btn btn--ghost",type:"button",onClick:()=>n({type:"DELETE_FIXTURE",payload:{roomId:e.id,fixtureId:t.id}}),children:""})})]})}function Ha({activeRoom:e,roomsCount:t,selectedFurniture:n,selectedFixture:r,selectedFixtureRoom:l,showRoomEditor:i,showFurnitureEditor:o,showFixtureEditor:s,dispatch:c,isMobile:h}){return s?u.jsx(fm,{room:l,fixture:r,dispatch:c}):i?u.jsx(am,{room:e,roomsCount:t,isMobile:h,dispatch:c}):o?u.jsx(cm,{furniture:n,isMobile:h,dispatch:c}):u.jsxs("div",{className:"panel__section",children:[u.jsx("h2",{children:""}),u.jsx("p",{className:"muted",children:""})]})}function pm({mobileTab:e,setMobileTab:t,listContent:n,editorContent:r}){return u.jsxs("div",{className:"mobile-drawer","aria-label":"",children:[u.jsxs("div",{className:"mobile-drawer__tabs",children:[u.jsx("button",{type:"button",className:`mobile-drawer__tab${e==="list"?" is-active":""}`,onClick:()=>t("list"),children:""}),u.jsx("button",{type:"button",className:`mobile-drawer__tab${e==="editor"?" is-active":""}`,onClick:()=>t("editor"),children:""})]}),u.jsx("div",{className:"mobile-drawer__content",children:e==="list"?n:r})]})}const Wa={id:"",name:"",width:"1200",height:"600",color:"#8ecae6",rotation:"0",radius:{tl:"0",tr:"0",br:"0",bl:"0"}};function hm({settingsTab:e,setSettingsTab:t,gridInput:n,setGridInput:r,gridMM:l,templates:i,rooms:o,furnitures:s,dispatch:c,onOpenExportPreview:h,onClose:S}){const[y,k]=Of.useState(Wa),p=()=>{const j={rooms:o,furnitures:s,gridMM:l,templates:i},g=new Blob([JSON.stringify(j,null,2)],{type:"application/json"}),a=URL.createObjectURL(g),R=document.createElement("a");R.href=a,R.download="room-layout.json",R.click(),URL.revokeObjectURL(a)},w=j=>{var R;const g=(R=j.target.files)==null?void 0:R[0];if(!g)return;const a=new FileReader;a.onload=()=>{try{const _=JSON.parse(a.result);c({type:"IMPORT_LAYOUT",payload:_})}catch(_){console.error("Invalid JSON",_)}},a.readAsText(g)},E=j=>{const g=j.target.value;if(r(g),g==="")return;const a=Number(g);!Number.isFinite(a)||a<0||c({type:"SET_GRID_MM",payload:Math.max(1,Math.round(a*1e3))})},O=j=>{j.target.value===""&&(c({type:"SET_GRID_MM",payload:1}),r("0.001"))},m=()=>{k(Wa)},d=j=>{var g,a,R,_;j&&k({id:j.id,name:j.name??"",width:String(j.width??0),height:String(j.height??0),color:j.color??"#8ecae6",rotation:String(j.rotation??0),radius:{tl:String(((g=j.radius)==null?void 0:g.tl)??0),tr:String(((a=j.radius)==null?void 0:a.tr)??0),br:String(((R=j.radius)==null?void 0:R.br)??0),bl:String(((_=j.radius)==null?void 0:_.bl)??0)}})},v=j=>{const g=j.target.value;if(!g){m();return}const a=i.find(R=>R.id===g);d(a)},T=()=>{const j={name:y.name.trim()||"",width:Number(y.width)||0,height:Number(y.height)||0,color:y.color,rotation:Number(y.rotation)||0,radius:{tl:Number(y.radius.tl)||0,tr:Number(y.radius.tr)||0,br:Number(y.radius.br)||0,bl:Number(y.radius.bl)||0}};y.id?c({type:"UPDATE_TEMPLATE",payload:{id:y.id,updates:j}}):c({type:"ADD_TEMPLATE",payload:j}),m()},C=j=>{c({type:"DELETE_TEMPLATE",payload:j}),y.id===j&&m()};return u.jsx("div",{className:"modal-backdrop",role:"presentation",onClick:S,children:u.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true","aria-label":"Settings",onClick:j=>j.stopPropagation(),children:[u.jsxs("div",{className:"modal__header",children:[u.jsx("h2",{children:"Settings"}),u.jsx("button",{className:"btn btn--ghost btn--small",type:"button",onClick:S,children:"Close"})]}),u.jsxs("div",{className:"modal__tabs",children:[u.jsx("button",{type:"button",className:`modal__tab${e==="grid"?" is-active":""}`,onClick:()=>t("grid"),children:"Grid"}),u.jsx("button",{type:"button",className:`modal__tab${e==="templates"?" is-active":""}`,onClick:()=>t("templates"),children:"Templates"}),u.jsx("button",{type:"button",className:`modal__tab${e==="data"?" is-active":""}`,onClick:()=>t("data"),children:"Data"})]}),u.jsxs("div",{className:"modal__body",children:[e==="grid"&&u.jsxs("div",{className:"panel__section",children:[u.jsx("h3",{children:"Grid"}),u.jsxs("div",{className:"form-grid",children:[u.jsxs("label",{children:["Grid (m)",u.jsx("input",{type:"number",step:"0.01",value:n,onChange:E,onBlur:O})]}),u.jsx("p",{className:"muted",children:"You can also double-click the grid label."})]})]}),e==="templates"&&u.jsxs("div",{className:"panel__section",children:[u.jsx("h3",{children:"Templates"}),u.jsx("div",{className:"form-grid",children:u.jsxs("label",{className:"template-select template-select--modal",children:["",u.jsxs("select",{value:y.id,onChange:v,children:[u.jsx("option",{value:"",children:""}),i.map(j=>u.jsx("option",{value:j.id,children:j.name},j.id))]})]})}),u.jsxs("div",{className:"form-grid",children:[u.jsxs("label",{children:["",u.jsx("input",{value:y.name,onChange:j=>k(g=>({...g,name:j.target.value}))})]}),u.jsxs("label",{children:[" (mm)",u.jsx("input",{type:"number",value:y.width,onChange:j=>k(g=>({...g,width:j.target.value}))})]}),u.jsxs("label",{children:[" (mm)",u.jsx("input",{type:"number",value:y.height,onChange:j=>k(g=>({...g,height:j.target.value}))})]}),u.jsxs("label",{children:["",u.jsx("input",{type:"color",value:y.color,onChange:j=>k(g=>({...g,color:j.target.value}))})]}),u.jsxs("label",{children:["",u.jsxs("select",{value:y.rotation,onChange:j=>k(g=>({...g,rotation:j.target.value})),children:[u.jsx("option",{value:"0",children:"0"}),u.jsx("option",{value:"90",children:"90"}),u.jsx("option",{value:"180",children:"180"}),u.jsx("option",{value:"270",children:"270"})]})]}),u.jsxs("label",{children:[" ()",u.jsx("input",{type:"number",value:y.radius.tl,onChange:j=>k(g=>({...g,radius:{...g.radius,tl:j.target.value}}))})]}),u.jsxs("label",{children:[" ()",u.jsx("input",{type:"number",value:y.radius.tr,onChange:j=>k(g=>({...g,radius:{...g.radius,tr:j.target.value}}))})]}),u.jsxs("label",{children:[" ()",u.jsx("input",{type:"number",value:y.radius.br,onChange:j=>k(g=>({...g,radius:{...g.radius,br:j.target.value}}))})]}),u.jsxs("label",{children:[" ()",u.jsx("input",{type:"number",value:y.radius.bl,onChange:j=>k(g=>({...g,radius:{...g.radius,bl:j.target.value}}))})]})]}),u.jsxs("div",{className:"actions",children:[u.jsx("button",{className:"btn",type:"button",onClick:T,children:y.id?"":""}),y.id&&u.jsx("button",{className:"btn btn--ghost",type:"button",onClick:()=>C(y.id),children:""}),u.jsx("button",{className:"btn btn--ghost",type:"button",onClick:m,children:""})]})]}),e==="data"&&u.jsxs("div",{className:"panel__section",children:[u.jsx("h3",{children:"Data"}),u.jsxs("div",{className:"actions",children:[u.jsx("button",{className:"btn",type:"button",onClick:p,children:"Export JSON"}),u.jsx("button",{className:"btn btn--ghost",type:"button",onClick:h,children:"A4"}),u.jsx("input",{type:"file",accept:".json",onChange:w})]})]})]})]})})}const ze={w:297,h:210},tt=10,mm=14,ym=5,Ye=5,li=6.5,Vn=1.25,Rr=1.5,fr=2.5,xn=1,ii=1.5,gm=25,Va=2.5,Qa={door:"",window:"",outlet:"",lan:"LAN",pillar:""},vm=e=>new XMLSerializer().serializeToString(e),Jt=e=>{const t=Number(e)/1e3;return Number.isFinite(t)?(Math.floor(t*10)/10).toFixed(1):"0.0"},Cl=(e,t)=>Math.max(1,e.length)*t*.56,Iu=(e,t,n)=>{const r=t*Vn/n,l=e.map(i=>Cl(i,t)/n);return{width:Math.max(...l,1)+Rr*2/n,height:e.length*r+Rr*2/n,lineHeight:r}},Ga=(e,t,n,r,l,i)=>{let o=t;for(;o>l;){const{width:s,height:c}=Iu(e,o,n);if(s<=r.w-i/n&&c<=r.h-i/n)return o;o-=.5}return l},Ka=(e,t,n,r,l)=>{const{width:i,height:o}=Iu(e,t,n);return i<=r.w-l/n&&o<=r.h-l/n},Za=({x:e,y:t,text:n,fontSize:r,scale:l,anchor:i="start"})=>{const o=Cl(n,r)/l,s=r*1.1/l,c=i==="middle"?o/2:i==="end"?o:0;return{x:e-c,y:t-s,width:o,height:s}},xm=({x:e,y:t,text:n,fontSize:r,scale:l})=>{const i=Cl(n,r)/l,o=r*1.1/l;return{x:e-o/2,y:t-i/2,width:o,height:i}},Ja=(e,t,n,r)=>Math.min(t,r)-Math.max(e,n)>0,qa=(e,t,n)=>{const r=t.some(h=>h.id!==e.id&&h.y+h.height<=e.y&&Ja(h.x,h.x+h.width,e.x,e.x+e.width)),l=t.some(h=>h.id!==e.id&&h.x+h.width<=e.x&&Ja(h.y,h.y+h.height,e.y,e.y+e.height)),i=r?e.y+e.height+6/n:e.y-6/n,o=e.x+e.width/2,s=l?e.x+e.width+10/n:e.x-6/n,c=l?"start":"middle";return{nameX:e.x+6/n,nameY:e.y-6/n,widthX:o,widthY:i,heightX:s,heightY:e.y+e.height/2,heightAnchor:c}},zo=(e,t)=>e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y,wm=(e,t)=>[{x:e/2,y:0},{x:0,y:t},{x:e,y:t}],Em=e=>Array.isArray(e.trianglePoints)&&e.trianglePoints.length?e.trianglePoints:wm(e.width,e.height),Oo=(e,t,n)=>{if(!e.length)return[];const r=new Map;e.forEach(i=>{const o=r.get(i.roomId)??{roomName:i.roomName??"",items:[]};o.items.push(i),r.set(i.roomId,o)});const l=[];return r.forEach(i=>{const o=i.items.map(y=>`${y.number}. ${y.text}`).join(" / "),s=`${i.roomName}: `,c=`${s}${o}`;if(Cl(c,t)<=n){l.push(c);return}const h=o.split(" / ").map(y=>`${y} / `);let S=s;h.forEach((y,k)=>{const p=S+y;if(Cl(p,t)<=n)S=p;else{const w=S.trim();l.push(w.endsWith("/")?w.slice(0,-1).trim():w),S=y}if(k===h.length-1){const w=S.trim();l.push(w.endsWith("/")?w.slice(0,-1).trim():w)}})}),l},Fo=(e,t,n)=>{if(!e.length)return[];const r=t*Vn,l=Math.max(1,Math.floor(n/r)),i=[];for(let o=0;o<e.length;o+=l)i.push(e.slice(o,o+l));return i},ba=(e,t,n,r,l)=>{const i=Math.min((l==null?void 0:l.tl)??0,n/2,r/2),o=Math.min((l==null?void 0:l.tr)??0,n/2,r/2),s=Math.min((l==null?void 0:l.br)??0,n/2,r/2),c=Math.min((l==null?void 0:l.bl)??0,n/2,r/2);return[`M ${e+i} ${t}`,`H ${e+n-o}`,o?`A ${o} ${o} 0 0 1 ${e+n} ${t+o}`:`L ${e+n} ${t}`,`V ${t+r-s}`,s?`A ${s} ${s} 0 0 1 ${e+n-s} ${t+r}`:`L ${e+n} ${t+r}`,`H ${e+c}`,c?`A ${c} ${c} 0 0 1 ${e} ${t+r-c}`:`L ${e} ${t+r}`,`V ${t+i}`,i?`A ${i} ${i} 0 0 1 ${e+i} ${t}`:`L ${e} ${t}`,"Z"].filter(Boolean).join(" ")},oi=(e,t,n)=>Math.max(0,Math.min(90,Number(e)||0))/90*(Math.min(t,n)/2),ec=(e,t,n)=>({tl:oi(e==null?void 0:e.tl,t,n),tr:oi(e==null?void 0:e.tr,t,n),br:oi(e==null?void 0:e.br,t,n),bl:oi(e==null?void 0:e.bl,t,n)});function Sm({rooms:e,furnitures:t,gridMM:n,onClose:r}){const l=$.useRef(null),i=$.useRef(null),o=$.useRef(null),[s,c]=$.useState({}),[h,S]=$.useState(null);$.useEffect(()=>{if(!h)return;const g=a=>{(a.key==="Backspace"||a.key==="Delete")&&a.stopPropagation()};return window.addEventListener("keydown",g,!0),()=>window.removeEventListener("keydown",g,!0)},[h]);const y=Array.isArray(e)?e:[],k=Array.isArray(t)?t:[],p=$.useMemo(()=>{const g=Ru(y),a=g.width&&g.height?g:{minX:0,minY:0,width:1,height:1},R=Math.min((ze.w-tt*2)/a.width,(ze.h-tt*2)/a.height),_=b=>{const ct=[],An=[],$n=new Map,$t=[],yt=[],oe=[],$e=new Map,Xn=I=>{I&&ct.push(I)};k.forEach(I=>{const Q=y.find(Y=>Y.id===I.roomId),Ne=Q?Q.x+I.x:I.x,Xe=Q?Q.y+I.y:I.y,f=Ne+I.width/2,x=Xe+I.height/2,{w:M,h:L}=Nr(I),P=fr/b,U={id:I.id,x:f-M/2-P,y:x-L/2-P,width:M+P*2,height:L+P*2};oe.push(U),$e.set(I.id,U)}),y.forEach(I=>{(I.fixtures??[]).forEach(Q=>{const Ne=I.x+Q.x,Xe=I.y+Q.y,f=Ne+Q.width/2,x=Xe+Q.height/2,{w:M,h:L}=Nr({width:Q.width,height:Q.height,rotation:Q.rotation}),P=fr/b,U={id:Q.id,x:f-M/2-P,y:x-L/2-P,width:M+P*2,height:L+P*2};oe.push(U),$e.set(Q.id,U)})});const ir=I=>{ct.push(I)},or=(I,Q)=>ct.some(Ne=>zo(Ne,I))?!1:!oe.some(Ne=>Ne!==Q&&zo(Ne,I)),Yr=I=>y.some(Q=>zo(I,{x:Q.x,y:Q.y,width:Q.width,height:Q.height})),Ol=(I,Q,Ne,Xe,f)=>{const x=Iu(Ne,Xe,b),M=I.x+xn/b,L=I.y+xn/b,P=I.x+I.w-xn/b-x.width,U=I.y+I.h-xn/b-x.height;if(f&&P>=M&&U>=L){const A=I.cx-x.width/2,H=I.cy-x.height/2,B=3/b,X=8;for(let le=0;le<=X;le+=1)for(let q=-le;q<=le;q+=1)for(let ie=-le;ie<=le;ie+=1){if(le>0&&Math.abs(q)!==le&&Math.abs(ie)!==le)continue;const W={x:Math.min(P,Math.max(M,A+q*B)),y:Math.min(U,Math.max(L,H+ie*B)),width:x.width,height:x.height};if(or(W,Q))return ir(W),{...W,lines:Ne,fontSize:Xe,lineHeight:x.lineHeight}}}const Y=[{x:I.cx-x.width/2,y:I.cy-x.height/2,inside:!0},{x:I.cx-x.width/2,y:I.y-x.height-ii/b},{x:I.cx-x.width/2,y:I.y+I.h+ii/b},{x:I.x+I.w+ii/b,y:I.cy-x.height/2},{x:I.x-x.width-ii/b,y:I.cy-x.height/2}];for(const A of Y){const H={x:A.x,y:A.y,width:x.width,height:x.height};if(!(A.inside&&(H.x<I.x+fr/b||H.y<I.y+fr/b||H.x+H.width>I.x+I.w-fr/b||H.y+H.height>I.y+I.h-fr/b))){if(!A.inside){const B=H.x>I.x+I.w?H.x-(I.x+I.w):H.x+H.width<I.x?I.x-(H.x+H.width):0,X=H.y>I.y+I.h?H.y-(I.y+I.h):H.y+H.height<I.y?I.y-(H.y+H.height):0;if(Math.hypot(B,X)>gm/b||Yr(H))continue}if(or(H,Q))return ir(H),{...H,lines:Ne,fontSize:Xe,lineHeight:x.lineHeight}}}const J=4/b,D=4;for(let A=1;A<=D;A+=1)for(let H=-A;H<=A;H+=1)for(let B=-A;B<=A;B+=1){if(Math.abs(H)!==A&&Math.abs(B)!==A)continue;const X={x:I.cx-x.width/2+H*J,y:I.cy-x.height/2+B*J,width:x.width,height:x.height};if(or(X,Q))return ir(X),{...X,lines:Ne,fontSize:Xe,lineHeight:x.lineHeight}}return null},it=(I,Q)=>{const Xe=($n.get(I==null?void 0:I.id)??0)+1;return $n.set(I==null?void 0:I.id,Xe),An.push({roomId:(I==null?void 0:I.id)??"unassigned",roomName:(I==null?void 0:I.name)??"",number:Xe,text:Q}),Xe};y.forEach(I=>{const Q=qa(I,y,b);Xn(Za({x:Q.nameX,y:Q.nameY,text:I.name,fontSize:Ye,scale:b})),Xn(Za({x:Q.widthX,y:Q.widthY,text:Jt(I.width),fontSize:li,scale:b,anchor:"middle"})),Xn(xm({x:Q.heightX,y:Q.heightY,text:Jt(I.height),fontSize:li,scale:b}))}),k.forEach(I=>{var le,q;const Q=s[`furniture:${I.id}`]??{},Ne=y.find(ie=>ie.id===I.roomId),Xe=Ne?Ne.x+I.x:I.x,f=Ne?Ne.y+I.y:I.y,x=Xe+I.width/2,M=f+I.height/2;Nr(I);const L={cx:x,cy:M},P={x:Xe,y:f,w:I.width,h:I.height,cx:Xe+I.width/2,cy:f+I.height/2},U=$e.get(I.id)??{},Y=(le=I.name)!=null&&le.trim()?I.name:"",J=`${Jt(I.width)}  ${Jt(I.height)}`,D=(q=I.memo)==null?void 0:q.trim(),A=D?[Y,J,D]:[Y,J],H=Ga(A,Ye,b,P,Va,xn);if(Q.moveToLegend){const ie=it(Ne,`${Y} ${J}${D?` / ${D}`:""}`);$t.push({id:I.id,number:ie,numberOnly:!0,x:L.cx-3/b,y:L.cy+3/b,fontSize:Ye});return}const B=Ka(A,H,b,P,xn),X=Ol(P,U,A,H,B);if(X)$t.push({id:I.id,...X});else{const ie=it(Ne,`${Y} ${J}${D?` / ${D}`:""}`);$t.push({id:I.id,number:ie,numberOnly:!0,x:L.cx-3/b,y:L.cy+3/b,fontSize:Ye})}}),y.forEach(I=>{(I.fixtures??[]).forEach(Q=>{var q;const Ne=s[`fixture:${Q.id}`]??{},Xe=I.x+Q.x,f=I.y+Q.y,x=Xe+Q.width/2,M=f+Q.height/2,L=Qa[Q.type]??Q.type,P=Q.type==="window"||Q.type==="door"?`${Jt(Q.width)}`:Q.type==="outlet"||Q.type==="lan"?"":`${Jt(Q.width)}  ${Jt(Q.height)}`,U=(q=Q.memo)==null?void 0:q.trim(),Y=Q.type==="window"?U?[`${L}: ${P}`,U]:[`${L}: ${P}`]:Q.type==="door"?U?[`${L}: ${P}`,U]:[`${L}: ${P}`]:Q.type==="outlet"||Q.type==="lan"?U?[L,U]:[L]:U?[L,P,U]:[L,P],{w:J,h:D}=Nr({width:Q.width,height:Q.height,rotation:Q.rotation}),A={x:x-J/2,y:M-D/2,w:J,h:D,cx:x,cy:M},H=Ga(Y,Ye,b,A,Va,xn),B=$e.get(Q.id)??{x:A.x,y:A.y,width:A.w,height:A.h};if(Ne.moveToLegend){const ie=it(I,`${L} ${P}${U?` / ${U}`:""}`);yt.push({id:Q.id,number:ie,numberOnly:!0,x:A.cx-3/b,y:A.cy+3/b,fontSize:Ye});return}const X=Ka(Y,H,b,A,xn),le=Ol(A,B,Y,H,X);if(le)yt.push({id:Q.id,...le});else{const ie=it(I,`${L} ${P}${U?` / ${U}`:""}`);yt.push({id:Q.id,number:ie,numberOnly:!0,x:A.cx-3/b,y:A.cy+3/b,fontSize:Ye})}})});const sr=[...$t.filter(I=>!I.numberOnly).map(I=>({x:I.x,y:I.y,width:I.width,height:I.height})),...yt.filter(I=>!I.numberOnly).map(I=>({x:I.x,y:I.y,width:I.width,height:I.height}))];return{legendEntries:An,furnitureLabels:$t,fixtureLabels:yt,labelBoxes:sr}},K=_(R),ne={minX:a.minX,minY:a.minY,width:a.width,height:a.height},Z=ze.w-tt*2;let F=Ye,Fe=Oo(K.legendEntries,F,Z),Je=Fo(Fe,F,ze.h-tt*2);for(;Je.length>1&&F>ym;)F-=.5,Fe=Oo(K.legendEntries,F,Z),Je=Fo(Fe,F,ze.h-tt*2);const Pt=Fe.length*F*Vn,N=Je.length>1?0:Pt,ee=tt+Ye*2.6,re=ze.h-tt-N-mm,se=Math.max(1,re-ee),fe=se>0?se/ne.height:R,Kt=(ze.w-tt*2)/ne.width,Ae=Math.min(Kt,fe),Ee=_(Ae),ce=Ee.labelBoxes.reduce((b,ct)=>({minX:Math.min(b.minX,ct.x),minY:Math.min(b.minY,ct.y),maxX:Math.max(b.maxX,ct.x+ct.width),maxY:Math.max(b.maxY,ct.y+ct.height)}),{minX:a.minX,minY:a.minY,maxX:a.minX+a.width,maxY:a.minY+a.height}),At=(ze.w-(ce.maxX-ce.minX)*Ae)/2-ce.minX*Ae,gn=ee+(se-(ce.maxY-ce.minY)*Ae)/2-ce.minY*Ae,rn=Oo(Ee.legendEntries,F,Z),ln=Fo(rn,F,ze.h-tt*2);return{bounds:ne,scale:Ae,offsetX:At,offsetY:gn,legendFontSize:F,legendLines:rn,legendPages:ln,furnitureLabels:Ee.furnitureLabels,fixtureLabels:Ee.fixtureLabels}},[y,k,s]),w=g=>{const a=i.current;if(!a)return null;const R=a.createSVGPoint();R.x=g.clientX,R.y=g.clientY;const _=R.matrixTransform(a.getScreenCTM().inverse());return{x:(_.x-p.offsetX)/p.scale,y:(_.y-p.offsetY)/p.scale}},E=(g,a,R)=>{g.stopPropagation();const _=w(g);if(!_)return;const K=`${a}:${R.id}`,ne=s[K]??{},Z=ne.x??R.x,F=ne.y??R.y;o.current={key:K,offsetX:_.x-Z,offsetY:_.y-F}},O=g=>{if(!o.current)return;g.preventDefault();const a=w(g);if(!a)return;const{key:R,offsetX:_,offsetY:K}=o.current;c(ne=>({...ne,[R]:{...ne[R],x:a.x-_,y:a.y-K}}))},m=()=>{o.current=null},d=(g,a)=>{const R=`${g}:${a.id}`,_=s[R]??{},K=_.text??(a.lines?a.lines.join(`
`):"");S({key:R,text:K,fontSize:_.fontSize??a.fontSize??Ye,moveToLegend:!!_.moveToLegend})},v=()=>{if(!h)return;const g=h.text.split(`
`).map(a=>a.trim()).filter(Boolean);c(a=>({...a,[h.key]:{...a[h.key],lines:g,fontSize:Number(h.fontSize)||Ye,moveToLegend:!!h.moveToLegend}})),S(null)},T=()=>{if(!l.current)return;const g=l.current.querySelectorAll("svg");if(!g.length)return;const R=`<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Room Planner Export</title>
    <style>
      @page { size: A4 landscape; margin: 0; }
      html, body { margin: 0; padding: 0; }
      .page { width: 297mm; height: 210mm; page-break-after: always; }
      svg { width: 297mm; height: 210mm; display: block; }
    </style>
  </head>
  <body>
    ${Array.from(g).map(K=>vm(K)).map(K=>`<div class="page">${K}</div>`).join("")}
  </body>
</html>`,_=window.open("","_blank");_&&(_.document.open(),_.document.write(R),_.document.close(),_.focus(),_.onload=()=>{_.print(),_.close()})},C=Math.max(10,Number(n)||100);return u.jsx("div",{className:"modal-backdrop export-modal",role:"presentation",onClick:r,children:u.jsxs("div",{className:"modal export-modal__body",role:"dialog","aria-modal":"true","aria-label":"A4 Export",onClick:g=>g.stopPropagation(),children:[u.jsxs("div",{className:"modal__header",children:[u.jsx("h2",{children:""}),u.jsx("button",{className:"btn btn--ghost btn--small",type:"button",onClick:r,children:""})]}),u.jsxs("div",{className:"export-preview",ref:l,children:[u.jsx("div",{className:"export-preview__page",children:u.jsxs("svg",{ref:i,viewBox:`0 0 ${ze.w} ${ze.h}`,width:`${ze.w}mm`,height:`${ze.h}mm`,onMouseMove:O,onMouseUp:m,onMouseLeave:m,children:[u.jsx("rect",{x:"0",y:"0",width:ze.w,height:ze.h,fill:"#fff"}),u.jsx("text",{x:tt,y:tt+Ye,fontSize:Ye,fill:"#1f2937",children:""}),u.jsx("text",{x:tt,y:tt+Ye*2.2,fontSize:Ye,fill:"#1f2937",children:Jt(C)}),u.jsx("defs",{children:u.jsx("pattern",{id:"grid",width:C,height:C,patternUnits:"userSpaceOnUse",children:u.jsx("path",{d:`M ${C} 0 L 0 0 0 ${C}`,fill:"none",stroke:"#e2e8f0",strokeWidth:.6/p.scale})})}),u.jsxs("g",{transform:`translate(${p.offsetX} ${p.offsetY}) scale(${p.scale})`,children:[u.jsx("rect",{x:p.bounds.minX,y:p.bounds.minY,width:p.bounds.width,height:p.bounds.height,fill:"url(#grid)"}),y.map(g=>{const a=qa(g,y,p.scale);return u.jsxs("g",{children:[u.jsx("path",{d:ba(g.x,g.y,g.width,g.height,ec(g.radius,g.width,g.height)),fill:"none",stroke:"#111",strokeWidth:1.1/p.scale}),u.jsx("text",{x:g.x+6/p.scale,y:g.y-6/p.scale,fontSize:Ye/p.scale,fontWeight:"700",fill:"#111",children:g.name}),u.jsx("text",{x:a.widthX,y:a.widthY,fontSize:li/p.scale,textAnchor:"middle",fontWeight:"700",fill:"#111",children:Jt(g.width)}),u.jsx("text",{x:a.heightX,y:a.heightY,fontSize:li/p.scale,textAnchor:a.heightAnchor,fontWeight:"700",fill:"#111",transform:`rotate(-90 ${a.heightX} ${a.heightY})`,children:Jt(g.height)})]},g.id)}),k.map(g=>{const a=y.find(Z=>Z.id===g.roomId),R=a?a.x+g.x:g.x,_=a?a.y+g.y:g.y,K=R+g.width/2,ne=_+g.height/2;return u.jsx("g",{children:u.jsx("path",{d:ba(R,_,g.width,g.height,ec(g.radius,g.width,g.height)),fill:g.color??"#93c5fd",stroke:"#111",strokeWidth:.8/p.scale,transform:g.rotation?`rotate(${g.rotation} ${K} ${ne})`:void 0})},g.id)}),y.flatMap(g=>(g.fixtures??[]).map(a=>{const R=g.x+a.x,_=g.y+a.y,K=R+a.width/2,ne=_+a.height/2;Qa[a.type]??a.type;const Z=a.type==="pillar"&&a.shape==="triangle",Fe=(Z?Em(a):[]).map(Je=>`${R+Je.x},${_+Je.y}`).join(" ");return u.jsx("g",{children:Z?u.jsx("polygon",{points:Fe,fill:"#e2e8f0",stroke:"#111",strokeWidth:1.6/p.scale,transform:a.rotation?`rotate(${a.rotation} ${K} ${ne})`:void 0}):u.jsx("rect",{x:R,y:_,width:a.width,height:a.height,fill:"#e2e8f0",stroke:"#111",strokeWidth:1.6/p.scale,transform:a.rotation?`rotate(${a.rotation} ${K} ${ne})`:void 0})},a.id)})),p.furnitureLabels.map(g=>{const a=s[`furniture:${g.id}`]??{},R=a.x??g.x,_=a.y??g.y,K=a.lines??g.lines,ne=a.fontSize??g.fontSize??Ye;return u.jsx("g",{children:g.numberOnly?u.jsx("text",{x:R,y:_,fontSize:Ye/p.scale,textAnchor:"middle",fill:"#111",onMouseDown:Z=>E(Z,"furniture",g),onDoubleClick:()=>d("furniture",g),children:g.number}):u.jsx("g",{onMouseDown:Z=>E(Z,"furniture",g),onDoubleClick:()=>d("furniture",g),children:K.map((Z,F)=>u.jsx("text",{x:R+Rr/p.scale,y:_+Rr/p.scale+(g.lineHeight??ne*Vn/p.scale)*(F+.9),fontSize:ne/p.scale,fill:"#111",children:Z},Z))})},g.id)}),p.fixtureLabels.map(g=>{const a=s[`fixture:${g.id}`]??{},R=a.x??g.x,_=a.y??g.y,K=a.lines??g.lines,ne=a.fontSize??g.fontSize??Ye;return u.jsx("g",{children:g.numberOnly?u.jsx("text",{x:R,y:_,fontSize:Ye/p.scale,textAnchor:"middle",fill:"#111",onMouseDown:Z=>E(Z,"fixture",g),onDoubleClick:()=>d("fixture",g),children:g.number}):u.jsx("g",{onMouseDown:Z=>E(Z,"fixture",g),onDoubleClick:()=>d("fixture",g),children:K.map((Z,F)=>u.jsx("text",{x:R+Rr/p.scale,y:_+Rr/p.scale+(g.lineHeight??ne*Vn/p.scale)*(F+.9),fontSize:ne/p.scale,fill:"#111",children:Z},Z))})},g.id)})]}),p.legendPages.length===1&&u.jsx("g",{children:p.legendPages[0].map((g,a)=>u.jsx("text",{x:tt,y:ze.h-tt-(p.legendPages[0].length-a-.4)*p.legendFontSize*Vn,fontSize:p.legendFontSize,fill:"#111",children:g},g))})]})}),p.legendPages.length>1&&p.legendPages.map((g,a)=>u.jsx("div",{className:"export-preview__page",children:u.jsxs("svg",{viewBox:`0 0 ${ze.w} ${ze.h}`,width:`${ze.w}mm`,height:`${ze.h}mm`,children:[u.jsx("rect",{x:"0",y:"0",width:ze.w,height:ze.h,fill:"#fff"}),g.map((R,_)=>u.jsx("text",{x:tt,y:tt+p.legendFontSize*Vn*(_+1),fontSize:p.legendFontSize,fill:"#111",children:R},`${a}-${R}`))]})},a)),u.jsxs("div",{className:"export-preview__actions",children:[u.jsx("button",{className:"btn",type:"button",onClick:T,children:"PDF"}),u.jsx("p",{className:"muted",children:"A4 "})]})]}),h&&u.jsx("div",{className:"export-edit-backdrop",role:"presentation",children:u.jsxs("div",{className:"export-edit",role:"dialog","aria-modal":"true",children:[u.jsx("h3",{children:""}),u.jsxs("label",{children:["",u.jsx("textarea",{rows:4,value:h.text,onChange:g=>S(a=>({...a,text:g.target.value}))})]}),u.jsxs("label",{children:["",u.jsx("input",{type:"number",step:"0.5",min:"4",value:h.fontSize,onChange:g=>S(a=>({...a,fontSize:g.target.value}))})]}),u.jsxs("label",{className:"export-edit__checkbox",children:[u.jsx("input",{type:"checkbox",checked:h.moveToLegend,onChange:g=>S(a=>({...a,moveToLegend:g.target.checked}))}),""]}),u.jsxs("div",{className:"export-edit__actions",children:[u.jsx("button",{className:"btn btn--ghost btn--small",type:"button",onClick:()=>S(null),children:""}),u.jsx("button",{className:"btn btn--small",type:"button",onClick:v,children:""})]})]})})]})})}function km({stateRef:e,roomRef:t,furnitureRef:n,fixtureRef:r,fixtureRoomRef:l,clipboardRef:i,onDispatch:o,onSetSelectionSource:s,isBlocked:c}){$.useEffect(()=>{const h=S=>{var j,g;if(c)return;const y=S.target,k=(j=y==null?void 0:y.tagName)==null?void 0:j.toLowerCase(),p=(g=y==null?void 0:y.type)==null?void 0:g.toLowerCase();if(k==="input"&&!(k==="input"&&(p==="range"||p==="number"||p==="color"))||k==="textarea"||k==="select"||y!=null&&y.isContentEditable)return;const E=navigator.platform.toLowerCase().includes("mac"),O=E?S.metaKey:S.ctrlKey,m=e.current,d=t.current,v=n.current,T=r.current,C=l.current;if(O){if(S.key.toLowerCase()==="z"){S.preventDefault(),S.shiftKey?o({type:"REDO"}):o({type:"UNDO"});return}if(!E&&S.key.toLowerCase()==="y"){S.preventDefault(),o({type:"REDO"});return}if(S.key.toLowerCase()==="c"){if(S.preventDefault(),T)i.current={type:"fixture",data:{fixture:{...T},roomId:(C==null?void 0:C.id)??null}};else if(v)i.current={type:"furniture",data:{...v}};else if(d){const a=m.furnitures.filter(R=>R.roomId===d.id);i.current={type:"room",data:{room:{...d},furnitures:a.map(R=>({...R}))}}}else i.current={type:null,data:null};return}if(S.key.toLowerCase()==="x"){if(S.preventDefault(),T&&C){i.current={type:"fixture",data:{fixture:{...T},roomId:C.id}},o({type:"DELETE_FIXTURE",payload:{roomId:C.id,fixtureId:T.id}});return}if(v){i.current={type:"furniture",data:{...v}},o({type:"DELETE_FURNITURE",payload:v.id});return}if(d){const a=m.furnitures.filter(R=>R.roomId===d.id);i.current={type:"room",data:{room:{...d},furnitures:a.map(R=>({...R}))}},o({type:"DELETE_ROOM",payload:d.id})}return}if(S.key.toLowerCase()==="v"){const a=i.current;if(!(a!=null&&a.data))return;if(S.preventDefault(),s("list"),a.type==="furniture")o({type:"PASTE_FURNITURE",payload:{furniture:a.data,targetRoomId:(d==null?void 0:d.id)??null}});else if(a.type==="fixture"){const R=a.data.roomId??(C==null?void 0:C.id)??(d==null?void 0:d.id)??null;if(!R)return;const _=a.data.fixture,K=40;o({type:"ADD_FIXTURE",payload:{roomId:R,fixture:{..._,id:null,x:((_==null?void 0:_.x)??0)+K,y:((_==null?void 0:_.y)??0)+K}}})}else a.type==="room"&&o({type:"PASTE_ROOM",payload:a.data})}return}if(S.key==="Backspace"||S.key==="Delete"){if(T&&C){S.preventDefault(),o({type:"DELETE_FIXTURE",payload:{roomId:C.id,fixtureId:T.id}});return}if(v){S.preventDefault(),o({type:"DELETE_FURNITURE",payload:v.id});return}d&&(S.preventDefault(),o({type:"DELETE_ROOM",payload:d.id}))}};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[i,o,s,t,e,n,r,l,c])}function _m(){var yt;const[e,t]=$.useReducer(lm,void 0,tm),n=e.present,r=n.rooms.find(oe=>oe.id===n.activeRoomId)||null,l=n.furnitures.find(oe=>oe.id===n.selectedId)||null,i=n.rooms.find(oe=>(oe.fixtures??[]).some($e=>$e.id===n.selectedFixtureId))||null,o=((yt=i==null?void 0:i.fixtures)==null?void 0:yt.find(oe=>oe.id===n.selectedFixtureId))||null,[s,c]=$.useState({}),[h,S]=$.useState("list"),y=$.useRef(null),[k,p]=$.useState(!1),w=$.useRef(!1),[E,O]=$.useState({type:null,id:null,value:""}),[m,d]=$.useState("list"),[v,T]=$.useState(()=>typeof window>"u"?!1:window.matchMedia("(max-width: 900px)").matches),[C,j]=$.useState("all"),[g,a]=$.useState(!1),[R,_]=$.useState("grid"),[K,ne]=$.useState(!1),[Z,F]=$.useState(""),[Fe,Je]=$.useState(""),Pt=$.useRef({type:null,data:null}),N=n.activeRoomId??(l?l.roomId??"unassigned":null),ee=!!n.activeRoomId,re=!!n.selectedId,se=!!n.selectedFixtureId,fe=C==="room"?n.activeRoomId??(l==null?void 0:l.roomId)??null:null,Kt=!!(n.activeRoomId||l!=null&&l.roomId),Ae=$.useRef(n),Ee=$.useRef(r),ce=$.useRef(l),At=$.useRef(o),gn=$.useRef(i),rn=(oe,$e,Xn)=>{O({type:oe,id:$e,value:Xn})},ln=()=>{if(!E.id)return;const oe=E.value.trim();E.type==="room"&&t({type:"UPDATE_ROOM",payload:{id:E.id,updates:{name:oe||""}}}),E.type==="furniture"&&t({type:"UPDATE_FURNITURE",payload:{id:E.id,updates:{name:oe||""}}}),O({type:null,id:null,value:""})},b=()=>{O({type:null,id:null,value:""})};$.useEffect(()=>{Ae.current=n,Ee.current=r,ce.current=l,At.current=o,gn.current=i},[n,r,l,o,i]),$.useEffect(()=>{F(Number((n.gridMM/1e3).toFixed(5)).toString())},[n.gridMM]),$.useEffect(()=>{N&&c(h==="canvas"?{[N]:!0}:oe=>({...oe,[N]:!0}))},[N,h]),$.useEffect(()=>{v||d("editor")},[v]),$.useEffect(()=>{const oe=window.matchMedia("(max-width: 900px)"),$e=()=>T(oe.matches);return $e(),oe.addEventListener?oe.addEventListener("change",$e):oe.addListener($e),()=>{oe.removeEventListener?oe.removeEventListener("change",$e):oe.removeListener($e)}},[]),km({stateRef:Ae,roomRef:Ee,furnitureRef:ce,fixtureRef:At,fixtureRoomRef:gn,clipboardRef:Pt,onDispatch:t,onSetSelectionSource:S,isBlocked:k}),$.useEffect(()=>{if(!w.current)return;const oe=document.activeElement;y.current&&oe&&y.current.contains(oe)&&oe.blur(),w.current=!1,p(!1)},[n.activeRoomId,n.selectedId,n.selectedFixtureId]);const ct=oe=>{(oe.type==="SET_ACTIVE_ROOM"||oe.type==="SELECT_FURNITURE")&&S("canvas"),t(oe)},An=u.jsx(um,{state:n,selectedFixtureId:n.selectedFixtureId,openRooms:s,setOpenRooms:c,selectedRoomId:N,selectedFurniture:l,templates:n.templates,selectedTemplateId:Fe,setSelectedTemplateId:Je,selectionSource:h,setSelectionSource:S,editing:E,startEditing:rn,commitEditing:ln,cancelEditing:b,setEditing:O,setViewMode:j,setMobileTab:d,isMobile:v,dispatch:t}),$n=u.jsx(Ha,{activeRoom:r,roomsCount:n.rooms.length,selectedFurniture:l,selectedFixture:o,selectedFixtureRoom:i,showRoomEditor:ee,showFurnitureEditor:re,showFixtureEditor:se,dispatch:t,isMobile:!1}),$t=u.jsx(Ha,{activeRoom:r,roomsCount:n.rooms.length,selectedFurniture:l,selectedFixture:o,selectedFixtureRoom:i,showRoomEditor:ee,showFurnitureEditor:re,showFixtureEditor:se,dispatch:t,isMobile:!0});return u.jsxs("div",{className:"app",children:[u.jsx(im,{canUndo:e.past.length>0,canRedo:e.future.length>0,onUndo:()=>t({type:"UNDO"}),onRedo:()=>t({type:"REDO"}),onOpenSettings:()=>a(!0)}),u.jsxs("div",{className:"app__columns",children:[u.jsx("section",{className:"panel panel--list",children:An}),u.jsx("section",{className:"panel panel--canvas",children:u.jsx(sm,{rooms:n.rooms,furnitures:n.furnitures,selectedId:n.selectedId,selectedFixtureId:n.selectedFixtureId,activeRoomId:n.activeRoomId,viewMode:C,viewRoomId:fe,canToggleViewMode:Kt,onToggleViewMode:()=>j(oe=>oe==="all"?"room":"all"),gridMM:n.gridMM,isMobile:v,dispatch:ct})}),u.jsx("section",{className:"panel panel--editor",ref:y,onFocusCapture:()=>{w.current=!0,p(!0)},onBlurCapture:oe=>{const $e=oe.relatedTarget;y.current&&$e&&y.current.contains($e)||(w.current=!1,p(!1))},children:$n})]}),u.jsx(pm,{mobileTab:m,setMobileTab:d,listContent:An,editorContent:$t}),g&&u.jsx(hm,{settingsTab:R,setSettingsTab:_,gridInput:Z,setGridInput:F,gridMM:n.gridMM,templates:n.templates,rooms:n.rooms,furnitures:n.furnitures,dispatch:t,onOpenExportPreview:()=>{a(!1),ne(!0)},onClose:()=>a(!1)}),K&&u.jsx(Sm,{rooms:n.rooms,furnitures:n.furnitures,gridMM:n.gridMM,onClose:()=>ne(!1)})]})}const Nm=document.getElementById("root");hf(Nm).render(u.jsx(_m,{}));
